{"instruction": "### Schema:\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\nCREATE TABLE org_member_rel (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  jc_code varchar(20),\n  jw_code varchar(20),\n  jk_code varchar(20),\n  jh_code varchar(20),\n  jm_code varchar(20),\n  jx_code varchar(20),\n  rep_org_code varchar(20),\n  priority smallint NOT NULL,\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now(),\n  PRIMARY KEY (org_code, mem_id)\n);\n\n### Question:\n최근 입사자 누구 있어?", "response": "SELECT mm.email, ml.value, omr.org_code, \n(SELECT tmp.value FROM org_lang tmp WHERE tmp.org_code = omr.org_code AND tmp.type = 'T01' AND tmp.lang = #{lang}) AS org_name, mm.ent_ymd \nFROM member_master AS mm\nINNER JOIN member_lang AS ml\nON mm.mem_id = ml.mem_id AND ml.type = 'T01' AND ml.lang = #{lang}\nINNER JOIN org_member_rel AS omr \nON ml.mem_id = omr.mem_id AND omr.priority = 1 AND omr.use_yn = 'Y' AND omr.del_yn = 'N'\nWHERE mm.ent_ymd >= DATE_FORMAT(DATE_ADD(NOW(), INTERVAL -1 MONTH), '%Y%m%d')"}
{"instruction": "### Schema:\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\nCREATE TABLE org_lang (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(100) NOT NULL,\n  PRIMARY KEY (org_code, type, lang)\n);\nCREATE TABLE org_member_rel (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  jc_code varchar(20),\n  jw_code varchar(20),\n  jk_code varchar(20),\n  jh_code varchar(20),\n  jm_code varchar(20),\n  jx_code varchar(20),\n  rep_org_code varchar(20),\n  priority smallint NOT NULL,\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now(),\n  PRIMARY KEY (org_code, mem_id)\n);\n\n### Question:\n개발팀 소속 직원의 이름과 이메일을 알려줘.", "response": "SELECT ml.value AS name, mm.email \nFROM org_lang AS ol\nINNER JOIN org_member_rel AS omr\nON ol.org_code = omr.org_code \nINNER JOIN member_master AS mm \nON mm.mem_id = omr.mem_id AND mm.del_yn = 'N' AND mm.status_code = 'CMM0010001' \nINNER JOIN member_lang AS ml \nON ml.mem_id = mm.mem_id AND ml.type = 'T01' AND ml.lang = #{lang}\nWHERE ol.value = '개발팀' AND ol.type = 'T01' AND ol.lang = #{lang}"}
{"instruction": "### Schema:\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\nCREATE TABLE org_member_rel (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  jc_code varchar(20),\n  jw_code varchar(20),\n  jk_code varchar(20),\n  jh_code varchar(20),\n  jm_code varchar(20),\n  jx_code varchar(20),\n  rep_org_code varchar(20),\n  priority smallint NOT NULL,\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now(),\n  PRIMARY KEY (org_code, mem_id)\n);\nCREATE TABLE org_master (\n  org_code varchar(20) PRIMARY KEY,\n  up_org_code varchar(20) REFERENCES org_master(org_code) ON DELETE SET NULL,\n  rep_org_code varchar(20),\n  org_type char(1) NOT NULL,\n  disp_ord integer,\n  disp_yn boolean DEFAULT true,\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n개발팀(org_code : OC001) 소속 직원의 이름과 이메일을 알려줘.", "response": "SELECT ml.value AS name, mm.email \nFROM org_master AS om\nINNER JOIN org_member_rel AS omr\nON om.org_code = omr.org_code \nINNER JOIN member_master AS mm \nON mm.mem_id = omr.mem_id AND mm.del_yn = 'N' AND mm.status_code = 'CMM0010001' \nINNER JOIN member_lang AS ml \nON ml.mem_id = mm.mem_id AND ml.type = 'T01' AND ml.lang = #{lang}\nWHERE om.org_code = 'OC001'"}
{"instruction": "### Schema:\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\nCREATE TABLE org_member_rel (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  jc_code varchar(20),\n  jw_code varchar(20),\n  jk_code varchar(20),\n  jh_code varchar(20),\n  jm_code varchar(20),\n  jx_code varchar(20),\n  rep_org_code varchar(20),\n  priority smallint NOT NULL,\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now(),\n  PRIMARY KEY (org_code, mem_id)\n);\nCREATE TABLE code_master (\n  code varchar(20) PRIMARY KEY,\n  grp_code varchar(20) NOT NULL REFERENCES code_group(grp_code) ON DELETE CASCADE,\n  add_info01 varchar(100),\n  add_info02 varchar(100),\n  add_info03 varchar(100),\n  add_info04 varchar(100),\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  disp_ord integer,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE code_lang (\n  code_lng_id varchar(20) NOT NULL,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(100) NOT NULL,\n  PRIMARY KEY (code_lng_id, type, lang)\n);\n\n### Question:\n김민준의 직책이 뭐야?", "response": "SELECT cm.code AS jc_code, cl.value AS jc_name\nFROM member_lang AS ml \nINNER JOIN org_member_rel AS omr \nON ml.mem_id = omr.mem_id AND omr.priority = 1 AND omr.use_yn = 'Y' \nINNER JOIN code_master AS cm\nON omr.jc_code = cm.code AND cm.grp_code = 'GMM002'\nINNER JOIN code_lang AS cl \nON cm.code = cl.code_lng_id AND cl.type = 'T01' AND cl.lang = #{lang}\nWHERE ml.value = '김민준' AND ml.type = 'T01' AND ml.lang = #{lang}"}
{"instruction": "### Schema:\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE org_member_rel (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  jc_code varchar(20),\n  jw_code varchar(20),\n  jk_code varchar(20),\n  jh_code varchar(20),\n  jm_code varchar(20),\n  jx_code varchar(20),\n  rep_org_code varchar(20),\n  priority smallint NOT NULL,\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now(),\n  PRIMARY KEY (org_code, mem_id)\n);\nCREATE TABLE code_master (\n  code varchar(20) PRIMARY KEY,\n  grp_code varchar(20) NOT NULL REFERENCES code_group(grp_code) ON DELETE CASCADE,\n  add_info01 varchar(100),\n  add_info02 varchar(100),\n  add_info03 varchar(100),\n  add_info04 varchar(100),\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  disp_ord integer,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE code_lang (\n  code_lng_id varchar(20) NOT NULL,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(100) NOT NULL,\n  PRIMARY KEY (code_lng_id, type, lang)\n);\n\n### Question:\n김민준(mem_id : MEM00001)의 직책이 뭐야?", "response": "SELECT cm.code AS jc_code, cl.value AS jc_name \nFROM member_master AS mm \nINNER JOIN org_member_rel AS omr \nON mm.mem_id = omr.mem_id AND omr.priority = 1 AND omr.use_yn = 'Y' \nINNER JOIN code_master AS cm\nON omr.jc_code = cm.code AND cm.grp_code = 'GMM002'\nINNER JOIN code_lang AS cl \nON cm.code = cl.code_lng_id AND cl.type = 'T01' AND cl.lang = #{lang}\nWHERE mm.mem_id = 'MEM00001'"}
{"instruction": "### Schema:\nCREATE TABLE appr_master (\n  appr_id varchar(20) PRIMARY KEY,\n  up_appr_id varchar(20),\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code),\n  appr_no varchar(100),\n  title varchar(200),\n  status_code varchar(10) NOT NULL,\n  docs_type char(1),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  src_type varchar(10),\n  drft_date timestamp,\n  fnl_date timestamp,\n  drft_mem_id varchar(20) REFERENCES member_master(mem_id),\n  drft_org_code varchar(20) REFERENCES org_master(org_code),\n  drft_rep_org_code varchar(20),\n  drft_jx_code varchar(10),\n  fnl_mem_id varchar(20),\n  fnl_org_code varchar(20),\n  fnl_rep_org_code varchar(20),\n  fnl_jx_code varchar(10),\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\nCREATE TABLE appr_proc (\n  aproc_id varchar(20) PRIMARY KEY,\n  appr_id varchar(20) NOT NULL REFERENCES appr_master(appr_id) ON DELETE CASCADE,\n  mem_id varchar(20) REFERENCES member_master(mem_id),\n  org_code varchar(20) REFERENCES org_master(org_code),\n  rep_org_code varchar(20),\n  jx_code varchar(10),\n  rl_mem_id varchar(20),\n  rl_org_code varchar(20),\n  rl_rep_org_code varchar(20),\n  rl_jx_code varchar(10),\n  inst_yn boolean DEFAULT false,\n  proc_order smallint,\n  proc_div_code varchar(10),\n  proc_type_code varchar(10),\n  proc_status_code varchar(10),\n  proc_action_code varchar(10),\n  proc_action_date timestamp,\n  proc_recv_date timestamp,\n  proc_check_date timestamp,\n  proc_line_type varchar(10),\n  mod_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n박서준이 올린 결재 문서 중에 반려된 것들을 찾아줘.", "response": "SELECT am.appr_id, am.title\nFROM appr_master AS am\nINNER JOIN member_lang AS ml\nON am.draft_mem_id = ml.mem_id AND ml.value = '박서준' AND ml.type = 'T01' AND ml.lang = #{lang}\nWHERE am.status_code IN ('CGV0010007', 'CGV0010008')\nAND \n( \nEXISTS (\nSELECT 1\nFROM appr_proc AS ap\nWHERE ap.appr_id = am.appr_id\nAND ap.mem_id = {auth_mem_id}\n)\nOR\n{ROLE_CODE} = 'ROLE_ADMIN'\n)\nORDER BY am.date_created DESC \nLIMIT {offset}, {count}"}
{"instruction": "### Schema:\nCREATE TABLE appr_master (\n  appr_id varchar(20) PRIMARY KEY,\n  up_appr_id varchar(20),\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code),\n  appr_no varchar(100),\n  title varchar(200),\n  status_code varchar(10) NOT NULL,\n  docs_type char(1),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  src_type varchar(10),\n  drft_date timestamp,\n  fnl_date timestamp,\n  drft_mem_id varchar(20) REFERENCES member_master(mem_id),\n  drft_org_code varchar(20) REFERENCES org_master(org_code),\n  drft_rep_org_code varchar(20),\n  drft_jx_code varchar(10),\n  fnl_mem_id varchar(20),\n  fnl_org_code varchar(20),\n  fnl_rep_org_code varchar(20),\n  fnl_jx_code varchar(10),\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_proc (\n  aproc_id varchar(20) PRIMARY KEY,\n  appr_id varchar(20) NOT NULL REFERENCES appr_master(appr_id) ON DELETE CASCADE,\n  mem_id varchar(20) REFERENCES member_master(mem_id),\n  org_code varchar(20) REFERENCES org_master(org_code),\n  rep_org_code varchar(20),\n  jx_code varchar(10),\n  rl_mem_id varchar(20),\n  rl_org_code varchar(20),\n  rl_rep_org_code varchar(20),\n  rl_jx_code varchar(10),\n  inst_yn boolean DEFAULT false,\n  proc_order smallint,\n  proc_div_code varchar(10),\n  proc_type_code varchar(10),\n  proc_status_code varchar(10),\n  proc_action_code varchar(10),\n  proc_action_date timestamp,\n  proc_recv_date timestamp,\n  proc_check_date timestamp,\n  proc_line_type varchar(10),\n  mod_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n박서준(mem_id : MEM00002)이 올린 결재 문서 중에 반려된 것들을 찾아줘.", "response": "SELECT am.appr_id, am.title\nFROM appr_master AS am\nINNER JOIN member_master AS mm\nON am.draft_mem_id = mm.mem_id AND mm.mem_id = 'MEM00002' \nWHERE am.status_code IN ('CGV0010007', 'CGV0010008')\nAND \n( \nEXISTS (\nSELECT 1\nFROM appr_proc AS ap\nWHERE ap.appr_id = am.appr_id\nAND ap.mem_id = {auth_mem_id}\n)\nOR\n{ROLE_CODE} = 'ROLE_ADMIN'\n)\nORDER BY am.date_created DESC \nLIMIT {offset}, {count}"}
{"instruction": "### Schema:\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\nCREATE TABLE org_lang (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(100) NOT NULL,\n  PRIMARY KEY (org_code, type, lang)\n);\nCREATE TABLE org_member_rel (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  jc_code varchar(20),\n  jw_code varchar(20),\n  jk_code varchar(20),\n  jh_code varchar(20),\n  jm_code varchar(20),\n  jx_code varchar(20),\n  rep_org_code varchar(20),\n  priority smallint NOT NULL,\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now(),\n  PRIMARY KEY (org_code, mem_id)\n);\n\n### Question:\n인사팀에 속한 모든 직원의 이름과 이메일 주소를 알려줘.", "response": "SELECT ml.value AS name, mm.email \nFROM org_lang AS ol\nINNER JOIN org_member_rel AS omr\nON ol.org_code = omr.org_code \nINNER JOIN member_master AS mm \nON mm.mem_id = omr.mem_id AND mm.del_yn = 'N' AND mm.status_code = 'CMM0010001' \nINNER JOIN member_lang AS ml \nON ml.mem_id = mm.mem_id AND ml.type = 'T01' AND ml.lang = #{lang}\nWHERE ol.value = '인사팀' AND ol.type = 'T01' AND ol.lang = #{lang}"}
{"instruction": "### Schema:\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\nCREATE TABLE org_member_rel (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  jc_code varchar(20),\n  jw_code varchar(20),\n  jk_code varchar(20),\n  jh_code varchar(20),\n  jm_code varchar(20),\n  jx_code varchar(20),\n  rep_org_code varchar(20),\n  priority smallint NOT NULL,\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now(),\n  PRIMARY KEY (org_code, mem_id)\n);\nCREATE TABLE org_master (\n  org_code varchar(20) PRIMARY KEY,\n  up_org_code varchar(20) REFERENCES org_master(org_code) ON DELETE SET NULL,\n  rep_org_code varchar(20),\n  org_type char(1) NOT NULL,\n  disp_ord integer,\n  disp_yn boolean DEFAULT true,\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n인사팀(org_code : OC002)에 속한 모든 직원의 이름과 이메일 주소를 알려줘.", "response": "SELECT ml.value AS name, mm.email \nFROM org_master AS om\nINNER JOIN org_member_rel AS omr\nON om.org_code = omr.org_code \nINNER JOIN member_master AS mm \nON mm.mem_id = omr.mem_id AND mm.del_yn = 'N' AND mm.status_code = 'CMM0010001' \nINNER JOIN member_lang AS ml \nON ml.mem_id = mm.mem_id AND ml.type = 'T01' AND ml.lang = #{lang}\nWHERE om.org_code = 'OC002'"}
{"instruction": "### Schema:\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\nCREATE TABLE org_member_rel (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  jc_code varchar(20),\n  jw_code varchar(20),\n  jk_code varchar(20),\n  jh_code varchar(20),\n  jm_code varchar(20),\n  jx_code varchar(20),\n  rep_org_code varchar(20),\n  priority smallint NOT NULL,\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now(),\n  PRIMARY KEY (org_code, mem_id)\n);\nCREATE TABLE code_master (\n  code varchar(20) PRIMARY KEY,\n  grp_code varchar(20) NOT NULL REFERENCES code_group(grp_code) ON DELETE CASCADE,\n  add_info01 varchar(100),\n  add_info02 varchar(100),\n  add_info03 varchar(100),\n  add_info04 varchar(100),\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  disp_ord integer,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE code_lang (\n  code_lng_id varchar(20) NOT NULL,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(100) NOT NULL,\n  PRIMARY KEY (code_lng_id, type, lang)\n);\n\n### Question:\n이서연이라는 직원의 직책은 뭐야?", "response": "SELECT cl.value AS jc_name\nFROM member_lang AS ml \nINNER JOIN org_member_rel AS omr \nON ml.mem_id = omr.mem_id AND omr.priority = 1 AND omr.use_yn = 'Y' \nINNER JOIN code_master AS cm\nON omr.jc_code = cm.code AND cm.grp_code = 'GMM002'\nINNER JOIN code_lang AS cl \nON cm.code = cl.code_lng_id AND cl.type = 'T01' AND cl.lang = #{lang}\nWHERE ml.value = '이서연' AND ml.type = 'T01' AND ml.lang = #{lang}"}
{"instruction": "### Schema:\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE org_member_rel (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  jc_code varchar(20),\n  jw_code varchar(20),\n  jk_code varchar(20),\n  jh_code varchar(20),\n  jm_code varchar(20),\n  jx_code varchar(20),\n  rep_org_code varchar(20),\n  priority smallint NOT NULL,\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now(),\n  PRIMARY KEY (org_code, mem_id)\n);\nCREATE TABLE code_master (\n  code varchar(20) PRIMARY KEY,\n  grp_code varchar(20) NOT NULL REFERENCES code_group(grp_code) ON DELETE CASCADE,\n  add_info01 varchar(100),\n  add_info02 varchar(100),\n  add_info03 varchar(100),\n  add_info04 varchar(100),\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  disp_ord integer,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE code_lang (\n  code_lng_id varchar(20) NOT NULL,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(100) NOT NULL,\n  PRIMARY KEY (code_lng_id, type, lang)\n);\n\n### Question:\n이서연(mem_id : MEM00003)이라는 직원의 직책은 뭐야?", "response": "SELECT cl.value \nFROM member_master AS mm \nINNER JOIN org_member_rel AS omr \nON mm.mem_id = omr.mem_id AND omr.priority = 1 AND omr.use_yn = 'Y' \nINNER JOIN code_master AS cm\nON omr.jc_code = cm.code AND cm.grp_code = 'GMM002'\nINNER JOIN code_lang AS cl \nON cm.code = cl.code_lng_id AND cl.type = 'T01' AND cl.lang = #{lang}\nWHERE mm.mem_id = 'MEM0003'"}
{"instruction": "### Schema:\nCREATE TABLE appr_master (\n  appr_id varchar(20) PRIMARY KEY,\n  up_appr_id varchar(20),\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code),\n  appr_no varchar(100),\n  title varchar(200),\n  status_code varchar(10) NOT NULL,\n  docs_type char(1),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  src_type varchar(10),\n  drft_date timestamp,\n  fnl_date timestamp,\n  drft_mem_id varchar(20) REFERENCES member_master(mem_id),\n  drft_org_code varchar(20) REFERENCES org_master(org_code),\n  drft_rep_org_code varchar(20),\n  drft_jx_code varchar(10),\n  fnl_mem_id varchar(20),\n  fnl_org_code varchar(20),\n  fnl_rep_org_code varchar(20),\n  fnl_jx_code varchar(10),\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\nCREATE TABLE appr_proc (\n  aproc_id varchar(20) PRIMARY KEY,\n  appr_id varchar(20) NOT NULL REFERENCES appr_master(appr_id) ON DELETE CASCADE,\n  mem_id varchar(20) REFERENCES member_master(mem_id),\n  org_code varchar(20) REFERENCES org_master(org_code),\n  rep_org_code varchar(20),\n  jx_code varchar(10),\n  rl_mem_id varchar(20),\n  rl_org_code varchar(20),\n  rl_rep_org_code varchar(20),\n  rl_jx_code varchar(10),\n  inst_yn boolean DEFAULT false,\n  proc_order smallint,\n  proc_div_code varchar(10),\n  proc_type_code varchar(10),\n  proc_status_code varchar(10),\n  proc_action_code varchar(10),\n  proc_action_date timestamp,\n  proc_recv_date timestamp,\n  proc_check_date timestamp,\n  proc_line_type varchar(10),\n  mod_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n박지훈이 기안한 결재 문서 중에 아직 처리 중인 문서들을 전부 보여줘", "response": "SELECT am.appr_id, am.title\nFROM appr_master AS am\nINNER JOIN member_lang AS ml\nON am.draft_mem_id = ml.mem_id AND ml.value = '박지훈' AND ml.type = 'T01' AND ml.lang = #{lang}\nWHERE am.status_code IN ('CGV0010003', 'CGV0010004')\nAND \n( \nEXISTS (\nSELECT 1\nFROM appr_proc AS ap\nWHERE ap.appr_id = am.appr_id\nAND ap.proc_type_code IN ('CGV0030001', 'CGV0030002', 'CGV0030003', 'CGV0030004', 'CGV0030007')\nAND ap.mem_id = {auth_mem_id}\n)\nOR\n{ROLE_CODE} = 'ROLE_ADMIN'\n)\nORDER BY am.date_created DESC"}
{"instruction": "### Schema:\nCREATE TABLE appr_master (\n  appr_id varchar(20) PRIMARY KEY,\n  up_appr_id varchar(20),\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code),\n  appr_no varchar(100),\n  title varchar(200),\n  status_code varchar(10) NOT NULL,\n  docs_type char(1),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  src_type varchar(10),\n  drft_date timestamp,\n  fnl_date timestamp,\n  drft_mem_id varchar(20) REFERENCES member_master(mem_id),\n  drft_org_code varchar(20) REFERENCES org_master(org_code),\n  drft_rep_org_code varchar(20),\n  drft_jx_code varchar(10),\n  fnl_mem_id varchar(20),\n  fnl_org_code varchar(20),\n  fnl_rep_org_code varchar(20),\n  fnl_jx_code varchar(10),\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_proc (\n  aproc_id varchar(20) PRIMARY KEY,\n  appr_id varchar(20) NOT NULL REFERENCES appr_master(appr_id) ON DELETE CASCADE,\n  mem_id varchar(20) REFERENCES member_master(mem_id),\n  org_code varchar(20) REFERENCES org_master(org_code),\n  rep_org_code varchar(20),\n  jx_code varchar(10),\n  rl_mem_id varchar(20),\n  rl_org_code varchar(20),\n  rl_rep_org_code varchar(20),\n  rl_jx_code varchar(10),\n  inst_yn boolean DEFAULT false,\n  proc_order smallint,\n  proc_div_code varchar(10),\n  proc_type_code varchar(10),\n  proc_status_code varchar(10),\n  proc_action_code varchar(10),\n  proc_action_date timestamp,\n  proc_recv_date timestamp,\n  proc_check_date timestamp,\n  proc_line_type varchar(10),\n  mod_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n박지훈(mem_id : MEM00009)이 기안한 결재 문서 중에 아직 처리 중인 문서들을 전부 보여줘", "response": "SELECT am.appr_id, am.title\nFROM appr_master AS am\nINNER JOIN member_master AS mm\nON am.draft_mem_id = mm.mem_id AND mm.mem_id = 'MEM00009'\nWHERE am.status_code IN ('CGV0010003', 'CGV0010004')\nAND \n( \nEXISTS (\nSELECT 1\nFROM appr_proc AS ap\nWHERE ap.appr_id = am.appr_id\nAND ap.proc_type_code IN ('CGV0030001', 'CGV0030002', 'CGV0030003', 'CGV0030004', 'CGV0030007')\nAND ap.mem_id = {auth_mem_id}\n)\nOR\n{ROLE_CODE} = 'ROLE_ADMIN'\n)\nORDER BY am.date_created DESC"}
{"instruction": "### Schema:\nCREATE TABLE appr_master (\n  appr_id varchar(20) PRIMARY KEY,\n  up_appr_id varchar(20),\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code),\n  appr_no varchar(100),\n  title varchar(200),\n  status_code varchar(10) NOT NULL,\n  docs_type char(1),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  src_type varchar(10),\n  drft_date timestamp,\n  fnl_date timestamp,\n  drft_mem_id varchar(20) REFERENCES member_master(mem_id),\n  drft_org_code varchar(20) REFERENCES org_master(org_code),\n  drft_rep_org_code varchar(20),\n  drft_jx_code varchar(10),\n  fnl_mem_id varchar(20),\n  fnl_org_code varchar(20),\n  fnl_rep_org_code varchar(20),\n  fnl_jx_code varchar(10),\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_docs_lang (\n  adocs_lng_id varchar(20) NOT NULL,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300),\n  PRIMARY KEY (adocs_lng_id, type, lang)\n);\nCREATE TABLE appr_proc (\n  aproc_id varchar(20) PRIMARY KEY,\n  appr_id varchar(20) NOT NULL REFERENCES appr_master(appr_id) ON DELETE CASCADE,\n  mem_id varchar(20) REFERENCES member_master(mem_id),\n  org_code varchar(20) REFERENCES org_master(org_code),\n  rep_org_code varchar(20),\n  jx_code varchar(10),\n  rl_mem_id varchar(20),\n  rl_org_code varchar(20),\n  rl_rep_org_code varchar(20),\n  rl_jx_code varchar(10),\n  inst_yn boolean DEFAULT false,\n  proc_order smallint,\n  proc_div_code varchar(10),\n  proc_type_code varchar(10),\n  proc_status_code varchar(10),\n  proc_action_code varchar(10),\n  proc_action_date timestamp,\n  proc_recv_date timestamp,\n  proc_check_date timestamp,\n  proc_line_type varchar(10),\n  mod_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n저번달에 완료한 지출결의서 뽑아줘", "response": "SELECT am.appr_id, am.title\nFROM appr_master AS am\nINNER JOIN appr_docs_lang AS adl\nON am.adocs_code = adl.adocs_lng_id AND adl.value = '지출결의서' AND adl.type = 'T01' AND adl.lang = #{lang}\nWHERE am.status_code IN ('CGV0010005', 'CGV0010006')\nAND DATE_FORMAT(am.fnl_date, '%Y%m') = DATE_FORMAT(DATE_SUB(CURDATE(), INTERVAL 1 MONTH), '%Y%m')\nAND \n( \nEXISTS (\nSELECT 1\nFROM appr_proc AS ap\nWHERE ap.appr_id = am.appr_id\nAND ap.mem_id = {auth_mem_id}\n)\nOR\n{ROLE_CODE} = 'ROLE_ADMIN'\n)\nORDER BY am.date_created DESC"}
{"instruction": "### Schema:\nCREATE TABLE appr_master (\n  appr_id varchar(20) PRIMARY KEY,\n  up_appr_id varchar(20),\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code),\n  appr_no varchar(100),\n  title varchar(200),\n  status_code varchar(10) NOT NULL,\n  docs_type char(1),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  src_type varchar(10),\n  drft_date timestamp,\n  fnl_date timestamp,\n  drft_mem_id varchar(20) REFERENCES member_master(mem_id),\n  drft_org_code varchar(20) REFERENCES org_master(org_code),\n  drft_rep_org_code varchar(20),\n  drft_jx_code varchar(10),\n  fnl_mem_id varchar(20),\n  fnl_org_code varchar(20),\n  fnl_rep_org_code varchar(20),\n  fnl_jx_code varchar(10),\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_docs_master (\n  adocs_code varchar(20) PRIMARY KEY,\n  docs_type char(1),\n  adocs_catg_code varchar(20) REFERENCES appr_docs_catg(adocs_catg_code),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  disp_yn boolean DEFAULT true,\n  src_type varchar(10),\n  opt_offc_yn boolean DEFAULT false,\n  opt_vwr_yn boolean DEFAULT false,\n  opt_rfr_yn boolean DEFAULT false,\n  opt_alrm_rqs_type varchar(10),\n  opt_mod_yn boolean DEFAULT false,\n  opt_drft_cncl_yn boolean DEFAULT false,\n  opt_appr_cncl_yn boolean DEFAULT false,\n  opt_rwr_yn boolean DEFAULT false,\n  opt_line_mod_yn boolean DEFAULT false,\n  opt_no_type varchar(10),\n  opt_recv_mod_yn boolean DEFAULT false,\n  proc_all_yn boolean DEFAULT false,\n  proc_adv_yn boolean DEFAULT false,\n  proc_orjc_yn boolean DEFAULT false,\n  proc_aggr_sqn_yn boolean DEFAULT false,\n  proc_aggr_prl_yn boolean DEFAULT false,\n  proc_aggr_sqn_cnt smallint,\n  proc_aggr_prl_cnt smallint,\n  fvrt_yn boolean DEFAULT false,\n  line_type varchar(10),\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_proc (\n  aproc_id varchar(20) PRIMARY KEY,\n  appr_id varchar(20) NOT NULL REFERENCES appr_master(appr_id) ON DELETE CASCADE,\n  mem_id varchar(20) REFERENCES member_master(mem_id),\n  org_code varchar(20) REFERENCES org_master(org_code),\n  rep_org_code varchar(20),\n  jx_code varchar(10),\n  rl_mem_id varchar(20),\n  rl_org_code varchar(20),\n  rl_rep_org_code varchar(20),\n  rl_jx_code varchar(10),\n  inst_yn boolean DEFAULT false,\n  proc_order smallint,\n  proc_div_code varchar(10),\n  proc_type_code varchar(10),\n  proc_status_code varchar(10),\n  proc_action_code varchar(10),\n  proc_action_date timestamp,\n  proc_recv_date timestamp,\n  proc_check_date timestamp,\n  proc_line_type varchar(10),\n  mod_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n저번달에 완료한 지출결의서(adocs_code : ADOCS0001) 뽑아줘", "response": "SELECT am.appr_id, am.title\nFROM appr_master AS am\nINNER JOIN appr_docs_master AS adm\nON am.adocs_code = adm.adocs_code AND adm.adocs_code = 'ADOCS0001'\nWHERE am.status_code IN ('CGV0010005', 'CGV0010006')\nAND DATE_FORMAT(am.fnl_date, '%Y%m') = DATE_FORMAT(DATE_SUB(CURDATE(), INTERVAL 1 MONTH), '%Y%m')\nAND \n( \nEXISTS (\nSELECT 1\nFROM appr_proc AS ap\nWHERE ap.appr_id = am.appr_id\nAND ap.mem_id = {auth_mem_id}\n)\nOR\n{ROLE_CODE} = 'ROLE_ADMIN'\n)\nORDER BY am.date_created DESC"}
{"instruction": "### Schema:\nCREATE TABLE appr_master (\n  appr_id varchar(20) PRIMARY KEY,\n  up_appr_id varchar(20),\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code),\n  appr_no varchar(100),\n  title varchar(200),\n  status_code varchar(10) NOT NULL,\n  docs_type char(1),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  src_type varchar(10),\n  drft_date timestamp,\n  fnl_date timestamp,\n  drft_mem_id varchar(20) REFERENCES member_master(mem_id),\n  drft_org_code varchar(20) REFERENCES org_master(org_code),\n  drft_rep_org_code varchar(20),\n  drft_jx_code varchar(10),\n  fnl_mem_id varchar(20),\n  fnl_org_code varchar(20),\n  fnl_rep_org_code varchar(20),\n  fnl_jx_code varchar(10),\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\nCREATE TABLE appr_proc (\n  aproc_id varchar(20) PRIMARY KEY,\n  appr_id varchar(20) NOT NULL REFERENCES appr_master(appr_id) ON DELETE CASCADE,\n  mem_id varchar(20) REFERENCES member_master(mem_id),\n  org_code varchar(20) REFERENCES org_master(org_code),\n  rep_org_code varchar(20),\n  jx_code varchar(10),\n  rl_mem_id varchar(20),\n  rl_org_code varchar(20),\n  rl_rep_org_code varchar(20),\n  rl_jx_code varchar(10),\n  inst_yn boolean DEFAULT false,\n  proc_order smallint,\n  proc_div_code varchar(10),\n  proc_type_code varchar(10),\n  proc_status_code varchar(10),\n  proc_action_code varchar(10),\n  proc_action_date timestamp,\n  proc_recv_date timestamp,\n  proc_check_date timestamp,\n  proc_line_type varchar(10),\n  mod_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n대기중인 문서 요약해줘", "response": "SELECT am.appr_id, am.title, am.editor_body, am.drafter_mem_id, \n(SELECT tmp.value\nFROM member_lang AS tmp\nWHERE tmp.mem_id = am.drafter_mem_id\nAND tmp.type = 'T01' \nAND tmp.lang = #{lang}\n) AS drafter_name, am.drft_date\nFROM appr_master AS am\nLEFT JOIN appr_proc AS ap \nON am.appr_id = ap.appr_id AND ap.proc_status_code = 'CGV0040002' \nAND \n(\n(ap.proc_div_code = 'CGV0020001' AND ap.member_id = {auth_mem_id})\nOR\n(ap.proc_div_code = 'CGV0020002' AND ap.org_code = {auth_org_code})\n)\nWHERE am.status_code IN ('CGV0010003', 'CGV0010004')\nORDER BY am.date_created DESC"}
{"instruction": "### Schema:\nCREATE TABLE appr_master (\n  appr_id varchar(20) PRIMARY KEY,\n  up_appr_id varchar(20),\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code),\n  appr_no varchar(100),\n  title varchar(200),\n  status_code varchar(10) NOT NULL,\n  docs_type char(1),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  src_type varchar(10),\n  drft_date timestamp,\n  fnl_date timestamp,\n  drft_mem_id varchar(20) REFERENCES member_master(mem_id),\n  drft_org_code varchar(20) REFERENCES org_master(org_code),\n  drft_rep_org_code varchar(20),\n  drft_jx_code varchar(10),\n  fnl_mem_id varchar(20),\n  fnl_org_code varchar(20),\n  fnl_rep_org_code varchar(20),\n  fnl_jx_code varchar(10),\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_proc (\n  aproc_id varchar(20) PRIMARY KEY,\n  appr_id varchar(20) NOT NULL REFERENCES appr_master(appr_id) ON DELETE CASCADE,\n  mem_id varchar(20) REFERENCES member_master(mem_id),\n  org_code varchar(20) REFERENCES org_master(org_code),\n  rep_org_code varchar(20),\n  jx_code varchar(10),\n  rl_mem_id varchar(20),\n  rl_org_code varchar(20),\n  rl_rep_org_code varchar(20),\n  rl_jx_code varchar(10),\n  inst_yn boolean DEFAULT false,\n  proc_order smallint,\n  proc_div_code varchar(10),\n  proc_type_code varchar(10),\n  proc_status_code varchar(10),\n  proc_action_code varchar(10),\n  proc_action_date timestamp,\n  proc_recv_date timestamp,\n  proc_check_date timestamp,\n  proc_line_type varchar(10),\n  mod_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n내가 결재해야할 문서 뽑아줘", "response": "SELECT am.appr_id, am.title\nFROM appr_master AS am\nLEFT JOIN appr_proc AS ap \nON am.appr_id = ap.appr_id AND ap.proc_status_code = 'CGV0040002' \nAND \n(\n(ap.proc_div_code = 'CGV0020001' AND ap.member_id = {auth_mem_id})\nOR\n(ap.proc_div_code = 'CGV0020002' AND ap.org_code = {auth_org_code})\n)\nWHERE am.status_code IN ('CGV0010003', 'CGV0010004')\nORDER BY am.date_created DESC"}
{"instruction": "### Schema:\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\n\n### Question:\n현재 휴직 중인 모든 직원을 찾아줘", "response": "SELECT mm.mem_id, ml.value AS name, ml.emp_no, mm.email\nFROM member_master AS mm \nINNER JOIN member_lang AS ml\nON mm.mem_id = ml.mem_id AND ml.type = 'T01' AND ml.lang = #{lang}\nWHERE mm.status_code = 'CMM0010002'\nAND mm.del_yn = 'N'"}
{"instruction": "### Schema:\nCREATE TABLE appr_master (\n  appr_id varchar(20) PRIMARY KEY,\n  up_appr_id varchar(20),\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code),\n  appr_no varchar(100),\n  title varchar(200),\n  status_code varchar(10) NOT NULL,\n  docs_type char(1),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  src_type varchar(10),\n  drft_date timestamp,\n  fnl_date timestamp,\n  drft_mem_id varchar(20) REFERENCES member_master(mem_id),\n  drft_org_code varchar(20) REFERENCES org_master(org_code),\n  drft_rep_org_code varchar(20),\n  drft_jx_code varchar(10),\n  fnl_mem_id varchar(20),\n  fnl_org_code varchar(20),\n  fnl_rep_org_code varchar(20),\n  fnl_jx_code varchar(10),\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_proc (\n  aproc_id varchar(20) PRIMARY KEY,\n  appr_id varchar(20) NOT NULL REFERENCES appr_master(appr_id) ON DELETE CASCADE,\n  mem_id varchar(20) REFERENCES member_master(mem_id),\n  org_code varchar(20) REFERENCES org_master(org_code),\n  rep_org_code varchar(20),\n  jx_code varchar(10),\n  rl_mem_id varchar(20),\n  rl_org_code varchar(20),\n  rl_rep_org_code varchar(20),\n  rl_jx_code varchar(10),\n  inst_yn boolean DEFAULT false,\n  proc_order smallint,\n  proc_div_code varchar(10),\n  proc_type_code varchar(10),\n  proc_status_code varchar(10),\n  proc_action_code varchar(10),\n  proc_action_date timestamp,\n  proc_recv_date timestamp,\n  proc_check_date timestamp,\n  proc_line_type varchar(10),\n  mod_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_master (\n  appr_id varchar(20) PRIMARY KEY,\n  up_appr_id varchar(20),\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code),\n  appr_no varchar(100),\n  title varchar(200),\n  status_code varchar(10) NOT NULL,\n  docs_type char(1),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  src_type varchar(10),\n  drft_date timestamp,\n  fnl_date timestamp,\n  drft_mem_id varchar(20) REFERENCES member_master(mem_id),\n  drft_org_code varchar(20) REFERENCES org_master(org_code),\n  drft_rep_org_code varchar(20),\n  drft_jx_code varchar(10),\n  fnl_mem_id varchar(20),\n  fnl_org_code varchar(20),\n  fnl_rep_org_code varchar(20),\n  fnl_jx_code varchar(10),\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n내가 결재해야 할 문서가 뭐가 있는지 알려줄래?", "response": "SELECT am.appr_id, am.title\nFROM appr_master AS am\nLEFT JOIN appr_proc AS ap \nON am.appr_id = ap.appr_id AND ap.proc_status_code = 'CGV0040002' \nAND \n(\n(ap.proc_div_code = 'CGV0020001' AND ap.member_id = {auth_mem_id})\nOR\n(ap.proc_div_code = 'CGV0020002' AND ap.org_code = {auth_org_code})\n)\nWHERE am.status_code IN ('CGV0010003', 'CGV0010004')\nORDER BY am.date_created DESC"}
{"instruction": "### Schema:\nCREATE TABLE org_master (\n  org_code varchar(20) PRIMARY KEY,\n  up_org_code varchar(20) REFERENCES org_master(org_code) ON DELETE SET NULL,\n  rep_org_code varchar(20),\n  org_type char(1) NOT NULL,\n  disp_ord integer,\n  disp_yn boolean DEFAULT true,\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE org_lang (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(100) NOT NULL,\n  PRIMARY KEY (org_code, type, lang)\n);\n\n### Question:\n경영지원본부 하위 부서 목록을 보여줘", "response": "ol.value AS org_name\nFROM org_master AS om\nINNER JOIN org_lang AS ol\nON om.org_code = ol.org_code AND ol.type = 'T01' AND ol.lang = #{lang}\nWHERE om.up_org_code = \n(\nSELECT tmp.org_code\nFROM org_lang AS tmp\nWHERE tmp.value = '경영지원본부' AND tmp.type = 'T01' AND tmp.lang = #{lang}\n)\nAND om.del_yn = 'N'\nAND om.use_yn = 'Y'"}
{"instruction": "### Schema:\nCREATE TABLE org_master (\n  org_code varchar(20) PRIMARY KEY,\n  up_org_code varchar(20) REFERENCES org_master(org_code) ON DELETE SET NULL,\n  rep_org_code varchar(20),\n  org_type char(1) NOT NULL,\n  disp_ord integer,\n  disp_yn boolean DEFAULT true,\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE org_lang (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(100) NOT NULL,\n  PRIMARY KEY (org_code, type, lang)\n);\n\n### Question:\n경영지원본부(org_code : ORG0099) 하위 부서 목록을 보여줘", "response": "SELECT om.org_code, \nol.value AS org_name\nFROM org_master AS om\nINNER JOIN org_lang AS ol\nON om.org_code = ol.org_code AND ol.type = 'T01' AND ol.lang = #{lang}\nWHERE om.up_org_code = 'ORG0099'\nAND om.del_yn = 'N'\nAND om.use_yn = 'Y'"}
{"instruction": "### Schema:\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n2024년에 입사한 직원들은 총 몇 명이야?", "response": "SELECT COUNT(*) AS total_count\nFROM member_master AS mm\nWHERE mm.enter_date LIKE '2024%'"}
{"instruction": "### Schema:\nCREATE TABLE appr_docs_master (\n  adocs_code varchar(20) PRIMARY KEY,\n  docs_type char(1),\n  adocs_catg_code varchar(20) REFERENCES appr_docs_catg(adocs_catg_code),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  disp_yn boolean DEFAULT true,\n  src_type varchar(10),\n  opt_offc_yn boolean DEFAULT false,\n  opt_vwr_yn boolean DEFAULT false,\n  opt_rfr_yn boolean DEFAULT false,\n  opt_alrm_rqs_type varchar(10),\n  opt_mod_yn boolean DEFAULT false,\n  opt_drft_cncl_yn boolean DEFAULT false,\n  opt_appr_cncl_yn boolean DEFAULT false,\n  opt_rwr_yn boolean DEFAULT false,\n  opt_line_mod_yn boolean DEFAULT false,\n  opt_no_type varchar(10),\n  opt_recv_mod_yn boolean DEFAULT false,\n  proc_all_yn boolean DEFAULT false,\n  proc_adv_yn boolean DEFAULT false,\n  proc_orjc_yn boolean DEFAULT false,\n  proc_aggr_sqn_yn boolean DEFAULT false,\n  proc_aggr_prl_yn boolean DEFAULT false,\n  proc_aggr_sqn_cnt smallint,\n  proc_aggr_prl_cnt smallint,\n  fvrt_yn boolean DEFAULT false,\n  line_type varchar(10),\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_docs_lang (\n  adocs_lng_id varchar(20) NOT NULL,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300),\n  PRIMARY KEY (adocs_lng_id, type, lang)\n);\n\n### Question:\n대외비 결재양식은 어떤 것들이 있어?", "response": "SELECT adm.adocs_code, \nadl.value AS adocs_name\nFROM appr_docs_master AS adm\nINNER JOIN appr_docs_lang AS adl\nON adm.adocs_code = adl.adocs_lng_id AND type = 'T11' AND adl.lang = #{lang}\nWHERE adm.src_type = 'PRV'\nAND adm.del_yn = 'N'\nAND \n(\n{ROLE_CODE} = 'ROLE_ADMIN'\nOR \n{ROLE_CODE} != 'ROLE_ADMIN' AND adm.use_yn = 'Y'\n)"}
{"instruction": "### Schema:\nCREATE TABLE org_master (\n  org_code varchar(20) PRIMARY KEY,\n  up_org_code varchar(20) REFERENCES org_master(org_code) ON DELETE SET NULL,\n  rep_org_code varchar(20),\n  org_type char(1) NOT NULL,\n  disp_ord integer,\n  disp_yn boolean DEFAULT true,\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE org_lang (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(100) NOT NULL,\n  PRIMARY KEY (org_code, type, lang)\n);\nCREATE TABLE org_member_rel (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  jc_code varchar(20),\n  jw_code varchar(20),\n  jk_code varchar(20),\n  jh_code varchar(20),\n  jm_code varchar(20),\n  jx_code varchar(20),\n  rep_org_code varchar(20),\n  priority smallint NOT NULL,\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now(),\n  PRIMARY KEY (org_code, mem_id)\n);\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n각 부서별로 몇 명의 직원이 있는지 계산해줘.", "response": "SELECT om.org_code, COUNT(omr.mem_id) AS member_count,\n(\nSELECT tmp.value\nFROM org_lang tmp\nWHERE tmp.org_code = om.org_code\nAND tmp.type = 'T01'\nAND tmp.lang = #{lang}\n) AS org_name\nFROM org_master AS om\nINNER JOIN org_member_rel AS omr \nON om.org_code = omr.org_code AND omr.use_yn = 'Y' \nINNER JOIN member_master AS mm \nON omr.mem_id = mm.mem_id AND mm.status_code = 'CMM0010001'\nWHERE om.org_type = 'D' AND om.use_yn = 'Y' AND om.del_yn = 'N' \nGROUP BY om.org_code"}
{"instruction": "### Schema:\nCREATE TABLE appr_docs_master (\n  adocs_code varchar(20) PRIMARY KEY,\n  docs_type char(1),\n  adocs_catg_code varchar(20) REFERENCES appr_docs_catg(adocs_catg_code),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  disp_yn boolean DEFAULT true,\n  src_type varchar(10),\n  opt_offc_yn boolean DEFAULT false,\n  opt_vwr_yn boolean DEFAULT false,\n  opt_rfr_yn boolean DEFAULT false,\n  opt_alrm_rqs_type varchar(10),\n  opt_mod_yn boolean DEFAULT false,\n  opt_drft_cncl_yn boolean DEFAULT false,\n  opt_appr_cncl_yn boolean DEFAULT false,\n  opt_rwr_yn boolean DEFAULT false,\n  opt_line_mod_yn boolean DEFAULT false,\n  opt_no_type varchar(10),\n  opt_recv_mod_yn boolean DEFAULT false,\n  proc_all_yn boolean DEFAULT false,\n  proc_adv_yn boolean DEFAULT false,\n  proc_orjc_yn boolean DEFAULT false,\n  proc_aggr_sqn_yn boolean DEFAULT false,\n  proc_aggr_prl_yn boolean DEFAULT false,\n  proc_aggr_sqn_cnt smallint,\n  proc_aggr_prl_cnt smallint,\n  fvrt_yn boolean DEFAULT false,\n  line_type varchar(10),\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_docs_lang (\n  adocs_lng_id varchar(20) NOT NULL,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300),\n  PRIMARY KEY (adocs_lng_id, type, lang)\n);\n\n### Question:\n결재 완료 시에만 문서번호가 생성되는 결재 양식은 뭐가 있어?", "response": "SELECT adm.adocs_code, \nadl.value AS adocs_name\nFROM appr_docs_master AS adm\nINNER JOIN appr_docs_lang AS adl\nON adm.adocs_code = adl.adocs_lng_id AND type = 'T11' AND adl.lang = #{lang}\nWHERE adm.opt_no_type = 'CMPL'\nAND adm.del_yn = 'N'\nAND \n(\n{ROLE_CODE} = 'ROLE_ADMIN' \nOR \n{ROLE_CODE} != 'ROLE_ADMIN' AND adm.use_yn = 'Y'\n)"}
{"instruction": "### Schema:\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\n\n### Question:\n생일이 오늘인 직원이 누구인지 찾아줘.", "response": "SELECT mm.mem_id, mm.emp_no, ml.value AS name\nFROM member_master mm\nINNER JOIN member_lang ml\nON mm.mem_id = ml.mem_id AND ml.type = 'T01' AND ml.lang = #{lang}\nWHERE mm.birth_ymd = DATE_FORMAT(NOW(), '%Y%m%d') AND mm.status_code = 'CMM0010001'"}
{"instruction": "### Schema:\nCREATE TABLE appr_master (\n  appr_id varchar(20) PRIMARY KEY,\n  up_appr_id varchar(20),\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code),\n  appr_no varchar(100),\n  title varchar(200),\n  status_code varchar(10) NOT NULL,\n  docs_type char(1),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  src_type varchar(10),\n  drft_date timestamp,\n  fnl_date timestamp,\n  drft_mem_id varchar(20) REFERENCES member_master(mem_id),\n  drft_org_code varchar(20) REFERENCES org_master(org_code),\n  drft_rep_org_code varchar(20),\n  drft_jx_code varchar(10),\n  fnl_mem_id varchar(20),\n  fnl_org_code varchar(20),\n  fnl_rep_org_code varchar(20),\n  fnl_jx_code varchar(10),\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\n\n### Question:\n최근 한 달 동안 가장 많은 결재를 처리한 사람은 누구야?", "response": "SELECT mm.mem_id, mm.emp_no, ml.value AS name, sub_tb.fnl_count\nFROM member_master AS mm\nINNER JOIN (\nSELECT am.fnl_mem_id, COUNT(*) AS fnl_count\nFROM appr_master AS am\nWHERE am.fnl_date >= DATE_SUB(NOW(), INTERVAL 1 MONTH)\nAND am.status_code IN ('CGV0010005', 'CGV0010006')\nGROUP BY am.fnl_mem_id\nORDER BY am.fnl_count DESC\nLIMIT 0, 1\n) AS sub_tb\nON mm.mem_id = sub_tb.fnl_mem_id\nINNER JOIN member_lang AS ml\nON ml.mem_id = mm.mem_id AND ml.type = 'T01' AND ml.lang = #{lang}"}
{"instruction": "### Schema:\nCREATE TABLE appr_master (\n  appr_id varchar(20) PRIMARY KEY,\n  up_appr_id varchar(20),\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code),\n  appr_no varchar(100),\n  title varchar(200),\n  status_code varchar(10) NOT NULL,\n  docs_type char(1),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  src_type varchar(10),\n  drft_date timestamp,\n  fnl_date timestamp,\n  drft_mem_id varchar(20) REFERENCES member_master(mem_id),\n  drft_org_code varchar(20) REFERENCES org_master(org_code),\n  drft_rep_org_code varchar(20),\n  drft_jx_code varchar(10),\n  fnl_mem_id varchar(20),\n  fnl_org_code varchar(20),\n  fnl_rep_org_code varchar(20),\n  fnl_jx_code varchar(10),\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_proc (\n  aproc_id varchar(20) PRIMARY KEY,\n  appr_id varchar(20) NOT NULL REFERENCES appr_master(appr_id) ON DELETE CASCADE,\n  mem_id varchar(20) REFERENCES member_master(mem_id),\n  org_code varchar(20) REFERENCES org_master(org_code),\n  rep_org_code varchar(20),\n  jx_code varchar(10),\n  rl_mem_id varchar(20),\n  rl_org_code varchar(20),\n  rl_rep_org_code varchar(20),\n  rl_jx_code varchar(10),\n  inst_yn boolean DEFAULT false,\n  proc_order smallint,\n  proc_div_code varchar(10),\n  proc_type_code varchar(10),\n  proc_status_code varchar(10),\n  proc_action_code varchar(10),\n  proc_action_date timestamp,\n  proc_recv_date timestamp,\n  proc_check_date timestamp,\n  proc_line_type varchar(10),\n  mod_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n지출증빙 단어가 제목에 포함된 문서를 모두 검색해줘", "response": "SELECT am.appr_id, am.title\nFROM appr_master AS am\nWHERE am.title LIKE '%지출증빙%'\nAND am.status_code IN ('CGV0010005', 'CGV0010006')\nAND \n( \nEXISTS (\nSELECT 1\nFROM appr_proc AS ap\nWHERE ap.appr_id = am.appr_id\nAND ap.mem_id = {auth_mem_id}\n)\nOR\n{ROLE_CODE} = 'ROLE_ADMIN'\n)\nORDER BY am.fnl_date DESC\nLIMIT {offset}, {count}"}
{"instruction": "### Schema:\nCREATE TABLE appr_master (\n  appr_id varchar(20) PRIMARY KEY,\n  up_appr_id varchar(20),\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code),\n  appr_no varchar(100),\n  title varchar(200),\n  status_code varchar(10) NOT NULL,\n  docs_type char(1),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  src_type varchar(10),\n  drft_date timestamp,\n  fnl_date timestamp,\n  drft_mem_id varchar(20) REFERENCES member_master(mem_id),\n  drft_org_code varchar(20) REFERENCES org_master(org_code),\n  drft_rep_org_code varchar(20),\n  drft_jx_code varchar(10),\n  fnl_mem_id varchar(20),\n  fnl_org_code varchar(20),\n  fnl_rep_org_code varchar(20),\n  fnl_jx_code varchar(10),\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_proc (\n  aproc_id varchar(20) PRIMARY KEY,\n  appr_id varchar(20) NOT NULL REFERENCES appr_master(appr_id) ON DELETE CASCADE,\n  mem_id varchar(20) REFERENCES member_master(mem_id),\n  org_code varchar(20) REFERENCES org_master(org_code),\n  rep_org_code varchar(20),\n  jx_code varchar(10),\n  rl_mem_id varchar(20),\n  rl_org_code varchar(20),\n  rl_rep_org_code varchar(20),\n  rl_jx_code varchar(10),\n  inst_yn boolean DEFAULT false,\n  proc_order smallint,\n  proc_div_code varchar(10),\n  proc_type_code varchar(10),\n  proc_status_code varchar(10),\n  proc_action_code varchar(10),\n  proc_action_date timestamp,\n  proc_recv_date timestamp,\n  proc_check_date timestamp,\n  proc_line_type varchar(10),\n  mod_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n지출증빙 단어가 제목에 포함된 진행중인 문서를 모두 검색해줘", "response": "SELECT am.appr_id, am.title\nFROM appr_master AS am\nWHERE am.title LIKE '%지출증빙%'\nAND am.status_code IN ('CGV0010003', 'CGV0010004')\nAND \n( \nEXISTS (\nSELECT 1\nFROM appr_proc AS ap\nWHERE ap.appr_id = am.appr_id\nAND ap.mem_id = {auth_mem_id}\n)\nOR\n{ROLE_CODE} = 'ROLE_ADMIN'\n)\nORDER BY am.fnl_date DESC\nLIMIT {offset}, {count}"}
{"instruction": "### Schema:\nCREATE TABLE code_master (\n  code varchar(20) PRIMARY KEY,\n  grp_code varchar(20) NOT NULL REFERENCES code_group(grp_code) ON DELETE CASCADE,\n  add_info01 varchar(100),\n  add_info02 varchar(100),\n  add_info03 varchar(100),\n  add_info04 varchar(100),\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  disp_ord integer,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE code_lang (\n  code_lng_id varchar(20) NOT NULL,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(100) NOT NULL,\n  PRIMARY KEY (code_lng_id, type, lang)\n);\nCREATE TABLE org_member_rel (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  jc_code varchar(20),\n  jw_code varchar(20),\n  jk_code varchar(20),\n  jh_code varchar(20),\n  jm_code varchar(20),\n  jx_code varchar(20),\n  rep_org_code varchar(20),\n  priority smallint NOT NULL,\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now(),\n  PRIMARY KEY (org_code, mem_id)\n);\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\n\n### Question:\n팀장 직책을 맡고 있는 모든 사람들의 이름을 알려줘.", "response": "SELECT mm.mem_id, ml.value AS name\nFROM code_master AS cm\nINNER JOIN code_lang AS cl\nON cm.code = cl.code_lng_id AND cl.type = 'T01' AND cl.value = '팀장'\nINNER JOIN org_member_rel AS omr\nON omr.jc_code = cm.code AND omr.use_yn = 'Y'\nINNER JOIN member_master AS mm\nON mm.mem_id = omr.mem_id AND mm.status_code = 'CMM0010001'\nINNER JOIN member_lang AS ml\nON mm.mem_id = ml.mem_id AND ml.type = 'T01' AND ml.lang = #{lang}\nWHERE cm.grp_code = 'GMM002' AND cm.del_yn = 'N'"}
{"instruction": "### Schema:\nCREATE TABLE code_master (\n  code varchar(20) PRIMARY KEY,\n  grp_code varchar(20) NOT NULL REFERENCES code_group(grp_code) ON DELETE CASCADE,\n  add_info01 varchar(100),\n  add_info02 varchar(100),\n  add_info03 varchar(100),\n  add_info04 varchar(100),\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  disp_ord integer,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE code_lang (\n  code_lng_id varchar(20) NOT NULL,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(100) NOT NULL,\n  PRIMARY KEY (code_lng_id, type, lang)\n);\nCREATE TABLE org_member_rel (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  jc_code varchar(20),\n  jw_code varchar(20),\n  jk_code varchar(20),\n  jh_code varchar(20),\n  jm_code varchar(20),\n  jx_code varchar(20),\n  rep_org_code varchar(20),\n  priority smallint NOT NULL,\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now(),\n  PRIMARY KEY (org_code, mem_id)\n);\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\n\n### Question:\n팀장(jc_code : JC0001) 직책을 맡고 있는 모든 사람들의 이름을 알려줘.", "response": "SELECT mm.mem_id, ml.value AS name\nFROM code_master AS cm\nINNER JOIN org_member_rel AS omr\nON omr.jc_code = cm.code AND omr.use_yn = 'Y'\nINNER JOIN member_master AS mm\nON mm.mem_id = omr.mem_id AND mm.status_code = 'CMM0010001'\nINNER JOIN member_lang AS ml\nON mm.mem_id = ml.mem_id AND ml.type = 'T01' AND ml.lang = #{lang}\nWHERE cm.grp_code = 'GMM002' AND cm.del_yn = 'N' AND cm.code = 'JC0001'"}
{"instruction": "### Schema:\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\nCREATE TABLE org_member_rel (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  jc_code varchar(20),\n  jw_code varchar(20),\n  jk_code varchar(20),\n  jh_code varchar(20),\n  jm_code varchar(20),\n  jx_code varchar(20),\n  rep_org_code varchar(20),\n  priority smallint NOT NULL,\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now(),\n  PRIMARY KEY (org_code, mem_id)\n);\nCREATE TABLE org_lang (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(100) NOT NULL,\n  PRIMARY KEY (org_code, type, lang)\n);\n\n### Question:\n김민준의 영문 이름과 영문 부서명을 알고 싶어", "response": "SELECT ml.mem_id, \n(\nSELECT tmp.value\nFROM member_lang tmp\nWHERE tmp.mem_id ml.mem_id\nAND tmp.type = 'T01'\nAND tmp.lang = 'en'\n) AS name,\nol.value AS department_name\nFROM member_lang AS ml \nINNER JOIN org_member_rel AS omr \nON ml.mem_id = omr.mem_id AND omr.priority = 1 AND omr.use_yn = 'Y' \nLEFT OUTER JOIN org_lang AS ol\nON omr.org_code = ol.org_code AND ol.type ='T01' AND ol.lang = 'en'\nWHERE ml.value = '김민준' AND ml.type = 'T01' AND ml.lang = #{lang}"}
{"instruction": "### Schema:\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\nCREATE TABLE org_member_rel (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  jc_code varchar(20),\n  jw_code varchar(20),\n  jk_code varchar(20),\n  jh_code varchar(20),\n  jm_code varchar(20),\n  jx_code varchar(20),\n  rep_org_code varchar(20),\n  priority smallint NOT NULL,\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now(),\n  PRIMARY KEY (org_code, mem_id)\n);\nCREATE TABLE org_lang (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(100) NOT NULL,\n  PRIMARY KEY (org_code, type, lang)\n);\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n김민준(mem_id : MEM00001)의 영문 이름과 영문 부서명을 알고 싶어", "response": "SELECT mm.mem_id, \n(\nSELECT tmp.value\nFROM member_lang tmp\nWHERE tmp.mem_id ml.mem_id\nAND tmp.type = 'T01'\nAND tmp.lang = 'en'\n) AS name,\nol.value AS department_name\nFROM member_master AS mm\nINNER JOIN org_member_rel AS omr \nON mm.mem_id = omr.mem_id AND omr.priority = 1 AND omr.use_yn = 'Y' \nLEFT OUTER JOIN org_lang AS ol\nON omr.org_code = ol.org_code AND ol.type ='T01' AND ol.lang = 'en'\nWHERE mm.mem_id = 'MEM00001'"}
{"instruction": "### Schema:\nCREATE TABLE appr_docs_master (\n  adocs_code varchar(20) PRIMARY KEY,\n  docs_type char(1),\n  adocs_catg_code varchar(20) REFERENCES appr_docs_catg(adocs_catg_code),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  disp_yn boolean DEFAULT true,\n  src_type varchar(10),\n  opt_offc_yn boolean DEFAULT false,\n  opt_vwr_yn boolean DEFAULT false,\n  opt_rfr_yn boolean DEFAULT false,\n  opt_alrm_rqs_type varchar(10),\n  opt_mod_yn boolean DEFAULT false,\n  opt_drft_cncl_yn boolean DEFAULT false,\n  opt_appr_cncl_yn boolean DEFAULT false,\n  opt_rwr_yn boolean DEFAULT false,\n  opt_line_mod_yn boolean DEFAULT false,\n  opt_no_type varchar(10),\n  opt_recv_mod_yn boolean DEFAULT false,\n  proc_all_yn boolean DEFAULT false,\n  proc_adv_yn boolean DEFAULT false,\n  proc_orjc_yn boolean DEFAULT false,\n  proc_aggr_sqn_yn boolean DEFAULT false,\n  proc_aggr_prl_yn boolean DEFAULT false,\n  proc_aggr_sqn_cnt smallint,\n  proc_aggr_prl_cnt smallint,\n  fvrt_yn boolean DEFAULT false,\n  line_type varchar(10),\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_docs_lang (\n  adocs_lng_id varchar(20) NOT NULL,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300),\n  PRIMARY KEY (adocs_lng_id, type, lang)\n);\nCREATE TABLE org_lang (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(100) NOT NULL,\n  PRIMARY KEY (org_code, type, lang)\n);\nCREATE TABLE appr_docs_target_rel (\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code) ON DELETE CASCADE,\n  rel_id varchar(20),\n  rel_type varchar(10),\n  PRIMARY KEY (adocs_code, rel_id)\n);\n\n### Question:\n영업1팀에서만 사용할 수 있는 결재 양식은 무엇이 있나요?", "response": "SELECT adm.adocs_code, \nadl.value AS adocs_name\nFROM appr_docs_master AS adm\nINNER JOIN appr_docs_lang AS adl\nON adm.adocs_code = adl.adocs_lng_id AND type = 'T11' AND adl.lang = #{lang}\nWHERE adm.del_yn = 'N'\nAND adm.adocs_code IN \n(\nSELECT tmp1.adocs_code\nFROM org_lang AS tmp1\nINNER JOIN appr_docs_target_rel AS tmp2\nON tmp1.org_code = tmp2.rel_id AND tmp2.rel_type = 'O'\nWHERE tmp1.value = '영업1팀' AND tmp1.type = 'T01' AND tmp1.lang = #{lang}\n)\nAND \n(\n{ROLE_CODE} = 'ROLE_ADMIN' \nOR \n{ROLE_CODE} != 'ROLE_ADMIN' AND adm.use_yn = 'Y'\n)"}
{"instruction": "### Schema:\nCREATE TABLE appr_docs_master (\n  adocs_code varchar(20) PRIMARY KEY,\n  docs_type char(1),\n  adocs_catg_code varchar(20) REFERENCES appr_docs_catg(adocs_catg_code),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  disp_yn boolean DEFAULT true,\n  src_type varchar(10),\n  opt_offc_yn boolean DEFAULT false,\n  opt_vwr_yn boolean DEFAULT false,\n  opt_rfr_yn boolean DEFAULT false,\n  opt_alrm_rqs_type varchar(10),\n  opt_mod_yn boolean DEFAULT false,\n  opt_drft_cncl_yn boolean DEFAULT false,\n  opt_appr_cncl_yn boolean DEFAULT false,\n  opt_rwr_yn boolean DEFAULT false,\n  opt_line_mod_yn boolean DEFAULT false,\n  opt_no_type varchar(10),\n  opt_recv_mod_yn boolean DEFAULT false,\n  proc_all_yn boolean DEFAULT false,\n  proc_adv_yn boolean DEFAULT false,\n  proc_orjc_yn boolean DEFAULT false,\n  proc_aggr_sqn_yn boolean DEFAULT false,\n  proc_aggr_prl_yn boolean DEFAULT false,\n  proc_aggr_sqn_cnt smallint,\n  proc_aggr_prl_cnt smallint,\n  fvrt_yn boolean DEFAULT false,\n  line_type varchar(10),\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_docs_lang (\n  adocs_lng_id varchar(20) NOT NULL,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300),\n  PRIMARY KEY (adocs_lng_id, type, lang)\n);\nCREATE TABLE appr_docs_target_rel (\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code) ON DELETE CASCADE,\n  rel_id varchar(20),\n  rel_type varchar(10),\n  PRIMARY KEY (adocs_code, rel_id)\n);\n\n### Question:\n영업1팀(org_code : ORG0008)에서만 사용할 수 있는 결재 양식은 무엇이 있나요?", "response": "SELECT adm.adocs_code, \nadl.value AS adocs_name\nFROM appr_docs_master AS adm\nINNER JOIN appr_docs_lang AS adl\nON adm.adocs_code = adl.adocs_lng_id AND type = 'T11' AND adl.lang = #{lang}\nWHERE adm.del_yn = 'N'\nAND adm.adocs_code IN \n(\nSELECT tmp.adocs_code\nFROM appr_docs_target_rel AS tmp\nWHERE tmp.rel_id = 'ORG0008' AND tmp.rel_type = 'O'\n)\nAND \n(\n{ROLE_CODE} = 'ROLE_ADMIN' \nOR \n{ROLE_CODE} != 'ROLE_ADMIN' AND adm.use_yn = 'Y'\n)"}
{"instruction": "### Schema:\nCREATE TABLE appr_docs_master (\n  adocs_code varchar(20) PRIMARY KEY,\n  docs_type char(1),\n  adocs_catg_code varchar(20) REFERENCES appr_docs_catg(adocs_catg_code),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  disp_yn boolean DEFAULT true,\n  src_type varchar(10),\n  opt_offc_yn boolean DEFAULT false,\n  opt_vwr_yn boolean DEFAULT false,\n  opt_rfr_yn boolean DEFAULT false,\n  opt_alrm_rqs_type varchar(10),\n  opt_mod_yn boolean DEFAULT false,\n  opt_drft_cncl_yn boolean DEFAULT false,\n  opt_appr_cncl_yn boolean DEFAULT false,\n  opt_rwr_yn boolean DEFAULT false,\n  opt_line_mod_yn boolean DEFAULT false,\n  opt_no_type varchar(10),\n  opt_recv_mod_yn boolean DEFAULT false,\n  proc_all_yn boolean DEFAULT false,\n  proc_adv_yn boolean DEFAULT false,\n  proc_orjc_yn boolean DEFAULT false,\n  proc_aggr_sqn_yn boolean DEFAULT false,\n  proc_aggr_prl_yn boolean DEFAULT false,\n  proc_aggr_sqn_cnt smallint,\n  proc_aggr_prl_cnt smallint,\n  fvrt_yn boolean DEFAULT false,\n  line_type varchar(10),\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_docs_lang (\n  adocs_lng_id varchar(20) NOT NULL,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300),\n  PRIMARY KEY (adocs_lng_id, type, lang)\n);\nCREATE TABLE appr_docs_target_rel (\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code) ON DELETE CASCADE,\n  rel_id varchar(20),\n  rel_type varchar(10),\n  PRIMARY KEY (adocs_code, rel_id)\n);\n\n### Question:\n결재양식 알려줘", "response": "SELECT adm.adocs_code, \nadl.value AS adocs_name\nFROM appr_docs_master AS adm\nINNER JOIN appr_docs_lang AS adl\nON adm.adocs_code = adl.adocs_lng_id AND type = 'T11' AND adl.lang = #{lang}\nWHERE adm.del_yn = 'N'\nAND adm.adocs_code IN \n(\nSELECT tmp.adocs_code\nFROM appr_docs_target_rel AS tmp\nWHERE tmp.rel_id = {auth_mem_id} AND tmp.rel_type = 'M'\nOR tmp.rel_id = {auth_org_code} AND tmp.rel_type = 'O'\n)"}
{"instruction": "### Schema:\nCREATE TABLE appr_master (\n  appr_id varchar(20) PRIMARY KEY,\n  up_appr_id varchar(20),\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code),\n  appr_no varchar(100),\n  title varchar(200),\n  status_code varchar(10) NOT NULL,\n  docs_type char(1),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  src_type varchar(10),\n  drft_date timestamp,\n  fnl_date timestamp,\n  drft_mem_id varchar(20) REFERENCES member_master(mem_id),\n  drft_org_code varchar(20) REFERENCES org_master(org_code),\n  drft_rep_org_code varchar(20),\n  drft_jx_code varchar(10),\n  fnl_mem_id varchar(20),\n  fnl_org_code varchar(20),\n  fnl_rep_org_code varchar(20),\n  fnl_jx_code varchar(10),\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_proc (\n  aproc_id varchar(20) PRIMARY KEY,\n  appr_id varchar(20) NOT NULL REFERENCES appr_master(appr_id) ON DELETE CASCADE,\n  mem_id varchar(20) REFERENCES member_master(mem_id),\n  org_code varchar(20) REFERENCES org_master(org_code),\n  rep_org_code varchar(20),\n  jx_code varchar(10),\n  rl_mem_id varchar(20),\n  rl_org_code varchar(20),\n  rl_rep_org_code varchar(20),\n  rl_jx_code varchar(10),\n  inst_yn boolean DEFAULT false,\n  proc_order smallint,\n  proc_div_code varchar(10),\n  proc_type_code varchar(10),\n  proc_status_code varchar(10),\n  proc_action_code varchar(10),\n  proc_action_date timestamp,\n  proc_recv_date timestamp,\n  proc_check_date timestamp,\n  proc_line_type varchar(10),\n  mod_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\n\n### Question:\n최지우가 참조자로 지정된 모든 결재 문서의 제목과 기안자를 알려줘", "response": "SELECT am.appr_id, am.title, \nmm.mem_id, mm.emp_no, ml.email, ml.value AS name\nFROM appr_master AS am\nINNER JOIN member_master AS mm\nON am.drft_mem_id = mm.mem_id\nINNER JOIN member_lang AS ml\nON mm.mem_id = ml.mem_id AND ml.type = 'T01' AND ml.lang = #{lang}\nWHERE am.status_code IN ('CGV0010003', 'CGV0010004', 'CGV0010005', 'CGV0010006')\nAND EXISTS (\nSELECT 1\nFROM member_lang as tmp1\nINNER JOIN appr_proc as tmp2\nON tmp2.appr_id = am.appr_id AND tmp1.mem_id = tmp2.mem_id AND tmp2.proc_type_code = 'CGV0030005'\nWHERE tmp1.value = '최지우' AND tmp1.type = 'T01' AND tmp1.lang = #{lang}\n)\nAND \n( \nEXISTS (\nSELECT 1\nFROM appr_proc AS ap\nWHERE ap.appr_id = am.appr_id\nAND ap.mem_id = {auth_mem_id}\n)\nOR\n{ROLE_CODE} = 'ROLE_ADMIN'\n)\nORDER BY am.date_created DESC\nLIMIT {offset}, {count}"}
{"instruction": "### Schema:\nCREATE TABLE appr_master (\n  appr_id varchar(20) PRIMARY KEY,\n  up_appr_id varchar(20),\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code),\n  appr_no varchar(100),\n  title varchar(200),\n  status_code varchar(10) NOT NULL,\n  docs_type char(1),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  src_type varchar(10),\n  drft_date timestamp,\n  fnl_date timestamp,\n  drft_mem_id varchar(20) REFERENCES member_master(mem_id),\n  drft_org_code varchar(20) REFERENCES org_master(org_code),\n  drft_rep_org_code varchar(20),\n  drft_jx_code varchar(10),\n  fnl_mem_id varchar(20),\n  fnl_org_code varchar(20),\n  fnl_rep_org_code varchar(20),\n  fnl_jx_code varchar(10),\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_proc (\n  aproc_id varchar(20) PRIMARY KEY,\n  appr_id varchar(20) NOT NULL REFERENCES appr_master(appr_id) ON DELETE CASCADE,\n  mem_id varchar(20) REFERENCES member_master(mem_id),\n  org_code varchar(20) REFERENCES org_master(org_code),\n  rep_org_code varchar(20),\n  jx_code varchar(10),\n  rl_mem_id varchar(20),\n  rl_org_code varchar(20),\n  rl_rep_org_code varchar(20),\n  rl_jx_code varchar(10),\n  inst_yn boolean DEFAULT false,\n  proc_order smallint,\n  proc_div_code varchar(10),\n  proc_type_code varchar(10),\n  proc_status_code varchar(10),\n  proc_action_code varchar(10),\n  proc_action_date timestamp,\n  proc_recv_date timestamp,\n  proc_check_date timestamp,\n  proc_line_type varchar(10),\n  mod_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\n\n### Question:\n최지우(mem_id: MEM00018)가 참조자로 지정된 모든 결재 문서의 제목과 기안자를 알려줘", "response": "SELECT am.appr_id, am.title, \nmm.mem_id, mm.emp_no, ml.email, ml.value AS name\nFROM appr_master AS am\nINNER JOIN member_master AS mm\nON am.drft_mem_id = mm.mem_id\nINNER JOIN member_lang AS ml\nON mm.mem_id = ml.mem_id AND ml.type = 'T01' AND ml.lang = #{lang}\nWHERE am.status_code IN ('CGV0010003', 'CGV0010004', 'CGV0010005', 'CGV0010006')\nAND EXISTS (\nSELECT 1\nFROM appr_proc as tmp\nON tmp.appr_id = am.appr_id AND tmp.mem_id = 'MEM00018' AND tmp2.proc_type_code = 'CGV0030005'\n)\nAND \n( \nEXISTS (\nSELECT 1\nFROM appr_proc AS ap\nWHERE ap.appr_id = am.appr_id\nAND ap.mem_id = {auth_mem_id}\n)\nOR\n{ROLE_CODE} = 'ROLE_ADMIN'\n)\nORDER BY am.date_created DESC\nLIMIT {offset}, {count}"}
{"instruction": "### Schema:\nCREATE TABLE org_master (\n  org_code varchar(20) PRIMARY KEY,\n  up_org_code varchar(20) REFERENCES org_master(org_code) ON DELETE SET NULL,\n  rep_org_code varchar(20),\n  org_type char(1) NOT NULL,\n  disp_ord integer,\n  disp_yn boolean DEFAULT true,\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE org_lang (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(100) NOT NULL,\n  PRIMARY KEY (org_code, type, lang)\n);\nCREATE TABLE org_member_rel (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  jc_code varchar(20),\n  jw_code varchar(20),\n  jk_code varchar(20),\n  jh_code varchar(20),\n  jm_code varchar(20),\n  jx_code varchar(20),\n  rep_org_code varchar(20),\n  priority smallint NOT NULL,\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now(),\n  PRIMARY KEY (org_code, mem_id)\n);\n\n### Question:\n아직 아무도 배정되지 않은 부서가 있는지 확인해줘.", "response": "SELECT om.org_code, ol.value AS org_name\nFROM org_master AS om\nINNER JOIN org_lang AS ol\nON om.org_code = ol.org_code AND ol.type = 'T01' AND ol.lang = #{lang}\nWHERE om.org_code NOT IN (\nSELECT omr.org_code\nFROM org_member_rel AS omr\nWHERE omr.use_yn = 'N'\nGROUP BY omr.org_code\n)"}
{"instruction": "### Schema:\nCREATE TABLE appr_master (\n  appr_id varchar(20) PRIMARY KEY,\n  up_appr_id varchar(20),\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code),\n  appr_no varchar(100),\n  title varchar(200),\n  status_code varchar(10) NOT NULL,\n  docs_type char(1),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  src_type varchar(10),\n  drft_date timestamp,\n  fnl_date timestamp,\n  drft_mem_id varchar(20) REFERENCES member_master(mem_id),\n  drft_org_code varchar(20) REFERENCES org_master(org_code),\n  drft_rep_org_code varchar(20),\n  drft_jx_code varchar(10),\n  fnl_mem_id varchar(20),\n  fnl_org_code varchar(20),\n  fnl_rep_org_code varchar(20),\n  fnl_jx_code varchar(10),\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_proc (\n  aproc_id varchar(20) PRIMARY KEY,\n  appr_id varchar(20) NOT NULL REFERENCES appr_master(appr_id) ON DELETE CASCADE,\n  mem_id varchar(20) REFERENCES member_master(mem_id),\n  org_code varchar(20) REFERENCES org_master(org_code),\n  rep_org_code varchar(20),\n  jx_code varchar(10),\n  rl_mem_id varchar(20),\n  rl_org_code varchar(20),\n  rl_rep_org_code varchar(20),\n  rl_jx_code varchar(10),\n  inst_yn boolean DEFAULT false,\n  proc_order smallint,\n  proc_div_code varchar(10),\n  proc_type_code varchar(10),\n  proc_status_code varchar(10),\n  proc_action_code varchar(10),\n  proc_action_date timestamp,\n  proc_recv_date timestamp,\n  proc_check_date timestamp,\n  proc_line_type varchar(10),\n  mod_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n결재가 반려된 문서를 보여줘", "response": "SELECT am.appr_id, am.title\nFROM appr_master AS am\nWHERE am.status_code IN ('CGV0010007', 'CGV0010008')\nAND \n( \nEXISTS (\nSELECT 1\nFROM appr_proc AS ap\nWHERE ap.appr_id = am.appr_id\nAND ap.mem_id = {auth_mem_id}\nAND ap.proc_type_code IN ('CGV0030001', 'CGV0030002', 'CGV0030003', 'CGV0030004', 'CGV0030007')\n)\nOR\n{ROLE_CODE} = 'ROLE_ADMIN'\n)\nORDER BY am.date_created DESC\nLIMIT {offset}, {count}"}
{"instruction": "### Schema:\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\nCREATE TABLE org_lang (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(100) NOT NULL,\n  PRIMARY KEY (org_code, type, lang)\n);\nCREATE TABLE org_member_rel (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  jc_code varchar(20),\n  jw_code varchar(20),\n  jk_code varchar(20),\n  jh_code varchar(20),\n  jm_code varchar(20),\n  jx_code varchar(20),\n  rep_org_code varchar(20),\n  priority smallint NOT NULL,\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now(),\n  PRIMARY KEY (org_code, mem_id)\n);\n\n### Question:\n인사팀에 속한 모든 직원의 이름과 이메일 주소를 알려줘.", "response": "SELECT mm.mem_id, ml.value AS name, mm.email \nFROM org_lang AS ol\nINNER JOIN org_member_rel AS omr\nON ol.org_code = omr.org_code \nINNER JOIN member_master AS mm \nON mm.mem_id = omr.mem_id AND mm.del_yn = 'N' AND mm.status_code = 'CMM0010001' \nINNER JOIN member_lang AS ml \nON ml.mem_id = mm.mem_id AND ml.type = 'T01' AND ml.lang = #{lang}\nWHERE ol.value = '인사팀' AND ol.type = 'T01' AND ol.lang = #{lang}"}
{"instruction": "### Schema:\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\nCREATE TABLE org_member_rel (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  jc_code varchar(20),\n  jw_code varchar(20),\n  jk_code varchar(20),\n  jh_code varchar(20),\n  jm_code varchar(20),\n  jx_code varchar(20),\n  rep_org_code varchar(20),\n  priority smallint NOT NULL,\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now(),\n  PRIMARY KEY (org_code, mem_id)\n);\nCREATE TABLE org_master (\n  org_code varchar(20) PRIMARY KEY,\n  up_org_code varchar(20) REFERENCES org_master(org_code) ON DELETE SET NULL,\n  rep_org_code varchar(20),\n  org_type char(1) NOT NULL,\n  disp_ord integer,\n  disp_yn boolean DEFAULT true,\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n인사팀(org_code : OC003)에 속한 모든 직원의 이름과 이메일 주소를 알려줘.", "response": "SELECT mm.mem_id, ml.value AS name, mm.email \nFROM org_master AS om\nINNER JOIN org_member_rel AS omr\nON om.org_code = omr.org_code \nINNER JOIN member_master AS mm \nON mm.mem_id = omr.mem_id AND mm.del_yn = 'N' AND mm.status_code = 'CMM0010001' \nINNER JOIN member_lang AS ml \nON ml.mem_id = mm.mem_id AND ml.type = 'T01' AND ml.lang = #{lang}\nWHERE om.org_code = 'OC003'"}
{"instruction": "### Schema:\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\nCREATE TABLE org_member_rel (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  jc_code varchar(20),\n  jw_code varchar(20),\n  jk_code varchar(20),\n  jh_code varchar(20),\n  jm_code varchar(20),\n  jx_code varchar(20),\n  rep_org_code varchar(20),\n  priority smallint NOT NULL,\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now(),\n  PRIMARY KEY (org_code, mem_id)\n);\nCREATE TABLE code_master (\n  code varchar(20) PRIMARY KEY,\n  grp_code varchar(20) NOT NULL REFERENCES code_group(grp_code) ON DELETE CASCADE,\n  add_info01 varchar(100),\n  add_info02 varchar(100),\n  add_info03 varchar(100),\n  add_info04 varchar(100),\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  disp_ord integer,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE code_lang (\n  code_lng_id varchar(20) NOT NULL,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(100) NOT NULL,\n  PRIMARY KEY (code_lng_id, type, lang)\n);\n\n### Question:\n이서연 직원의 직책은 뭐야?", "response": "SELECT cm.code AS jc_code, cl.value AS jc_name\nFROM member_lang AS ml \nINNER JOIN org_member_rel AS omr \nON ml.mem_id = omr.mem_id AND omr.priority = 1 AND omr.use_yn = 'Y' \nINNER JOIN code_master AS cm\nON omr.jc_code = cm.code AND cm.grp_code = 'GMM002'\nINNER JOIN code_lang AS cl \nON cm.code = cl.code_lng_id AND cl.type = 'T01' AND cl.lang = #{lang}\nWHERE ml.value = '이서연' AND ml.type = 'T01' AND ml.lang = #{lang}"}
{"instruction": "### Schema:\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE org_member_rel (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  jc_code varchar(20),\n  jw_code varchar(20),\n  jk_code varchar(20),\n  jh_code varchar(20),\n  jm_code varchar(20),\n  jx_code varchar(20),\n  rep_org_code varchar(20),\n  priority smallint NOT NULL,\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now(),\n  PRIMARY KEY (org_code, mem_id)\n);\nCREATE TABLE code_master (\n  code varchar(20) PRIMARY KEY,\n  grp_code varchar(20) NOT NULL REFERENCES code_group(grp_code) ON DELETE CASCADE,\n  add_info01 varchar(100),\n  add_info02 varchar(100),\n  add_info03 varchar(100),\n  add_info04 varchar(100),\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  disp_ord integer,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE code_lang (\n  code_lng_id varchar(20) NOT NULL,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(100) NOT NULL,\n  PRIMARY KEY (code_lng_id, type, lang)\n);\n\n### Question:\n이서연(mem_id : MEM00009) 직원의 직책은 뭐야?", "response": "SELECT cm.code AS jc_code, cl.value AS jc_name\nFROM member_master AS mm \nINNER JOIN org_member_rel AS omr \nON mm.mem_id = omr.mem_id AND omr.priority = 1 AND omr.use_yn = 'Y' \nINNER JOIN code_master AS cm\nON omr.jc_code = cm.code AND cm.grp_code = 'GMM002'\nINNER JOIN code_lang AS cl \nON cm.code = cl.code_lng_id AND cl.type = 'T01' AND cl.lang = #{lang}\nWHERE mm.mem_id = 'MEM00009'"}
{"instruction": "### Schema:\nCREATE TABLE appr_master (\n  appr_id varchar(20) PRIMARY KEY,\n  up_appr_id varchar(20),\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code),\n  appr_no varchar(100),\n  title varchar(200),\n  status_code varchar(10) NOT NULL,\n  docs_type char(1),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  src_type varchar(10),\n  drft_date timestamp,\n  fnl_date timestamp,\n  drft_mem_id varchar(20) REFERENCES member_master(mem_id),\n  drft_org_code varchar(20) REFERENCES org_master(org_code),\n  drft_rep_org_code varchar(20),\n  drft_jx_code varchar(10),\n  fnl_mem_id varchar(20),\n  fnl_org_code varchar(20),\n  fnl_rep_org_code varchar(20),\n  fnl_jx_code varchar(10),\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\nCREATE TABLE appr_proc (\n  aproc_id varchar(20) PRIMARY KEY,\n  appr_id varchar(20) NOT NULL REFERENCES appr_master(appr_id) ON DELETE CASCADE,\n  mem_id varchar(20) REFERENCES member_master(mem_id),\n  org_code varchar(20) REFERENCES org_master(org_code),\n  rep_org_code varchar(20),\n  jx_code varchar(10),\n  rl_mem_id varchar(20),\n  rl_org_code varchar(20),\n  rl_rep_org_code varchar(20),\n  rl_jx_code varchar(10),\n  inst_yn boolean DEFAULT false,\n  proc_order smallint,\n  proc_div_code varchar(10),\n  proc_type_code varchar(10),\n  proc_status_code varchar(10),\n  proc_action_code varchar(10),\n  proc_action_date timestamp,\n  proc_recv_date timestamp,\n  proc_check_date timestamp,\n  proc_line_type varchar(10),\n  mod_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n박지훈이 기안한 결재 문서 중에 아직 처리 중인 문서들을 전부 보여줘.", "response": "SELECT am.appr_id, am.title\nFROM appr_master AS am\nINNER JOIN member_lang AS ml\nON am.draft_mem_id = ml.mem_id AND ml.value = '박지훈' AND ml.type = 'T01' AND ml.lang = #{lang}\nWHERE am.status_code IN ('CGV0010003', 'CGV0010004')\nAND \n( \nEXISTS (\nSELECT 1\nFROM appr_proc AS ap\nWHERE ap.appr_id = am.appr_id\nAND ap.mem_id = {auth_mem_id}\n)\nOR\n{ROLE_CODE} = 'ROLE_ADMIN'\n)\nORDER BY am.date_created DESC \nLIMIT {offset}, {count}"}
{"instruction": "### Schema:\nCREATE TABLE appr_master (\n  appr_id varchar(20) PRIMARY KEY,\n  up_appr_id varchar(20),\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code),\n  appr_no varchar(100),\n  title varchar(200),\n  status_code varchar(10) NOT NULL,\n  docs_type char(1),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  src_type varchar(10),\n  drft_date timestamp,\n  fnl_date timestamp,\n  drft_mem_id varchar(20) REFERENCES member_master(mem_id),\n  drft_org_code varchar(20) REFERENCES org_master(org_code),\n  drft_rep_org_code varchar(20),\n  drft_jx_code varchar(10),\n  fnl_mem_id varchar(20),\n  fnl_org_code varchar(20),\n  fnl_rep_org_code varchar(20),\n  fnl_jx_code varchar(10),\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_proc (\n  aproc_id varchar(20) PRIMARY KEY,\n  appr_id varchar(20) NOT NULL REFERENCES appr_master(appr_id) ON DELETE CASCADE,\n  mem_id varchar(20) REFERENCES member_master(mem_id),\n  org_code varchar(20) REFERENCES org_master(org_code),\n  rep_org_code varchar(20),\n  jx_code varchar(10),\n  rl_mem_id varchar(20),\n  rl_org_code varchar(20),\n  rl_rep_org_code varchar(20),\n  rl_jx_code varchar(10),\n  inst_yn boolean DEFAULT false,\n  proc_order smallint,\n  proc_div_code varchar(10),\n  proc_type_code varchar(10),\n  proc_status_code varchar(10),\n  proc_action_code varchar(10),\n  proc_action_date timestamp,\n  proc_recv_date timestamp,\n  proc_check_date timestamp,\n  proc_line_type varchar(10),\n  mod_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n박지훈(mem_id : MEM00013)이 기안한 결재 문서 중에 아직 처리 중인 문서들을 전부 보여줘.", "response": "SELECT am.appr_id, am.title\nFROM appr_master AS am\nINNER JOIN member_master AS mm\nON am.draft_mem_id = mm.mem_id AND mm.mem_id = 'MEM00013' \nWHERE am.status_code IN ('CGV0010003', 'CGV0010004')\nAND \n( \nEXISTS (\nSELECT 1\nFROM appr_proc AS ap\nWHERE ap.appr_id = am.appr_id\nAND ap.mem_id = {auth_mem_id}\n)\nOR\n{ROLE_CODE} = 'ROLE_ADMIN'\n)\nORDER BY am.date_created DESC \nLIMIT {offset}, {count}"}
{"instruction": "### Schema:\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\n\n### Question:\n현재 휴직 중인 모든 직원의 한글 이름을 찾아줘.", "response": "SELECT mm.mem_id, ml.value AS name, ml.emp_no, mm.email\nFROM member_master AS mm \nINNER JOIN member_lang AS ml\nON mm.mem_id = ml.mem_id AND ml.type = 'T01' AND ml.lang = 'ko'\nWHERE mm.status_code = 'CMM0010002'\nAND mm.del_yn = 'N'"}
{"instruction": "### Schema:\nCREATE TABLE appr_master (\n  appr_id varchar(20) PRIMARY KEY,\n  up_appr_id varchar(20),\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code),\n  appr_no varchar(100),\n  title varchar(200),\n  status_code varchar(10) NOT NULL,\n  docs_type char(1),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  src_type varchar(10),\n  drft_date timestamp,\n  fnl_date timestamp,\n  drft_mem_id varchar(20) REFERENCES member_master(mem_id),\n  drft_org_code varchar(20) REFERENCES org_master(org_code),\n  drft_rep_org_code varchar(20),\n  drft_jx_code varchar(10),\n  fnl_mem_id varchar(20),\n  fnl_org_code varchar(20),\n  fnl_rep_org_code varchar(20),\n  fnl_jx_code varchar(10),\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_proc (\n  aproc_id varchar(20) PRIMARY KEY,\n  appr_id varchar(20) NOT NULL REFERENCES appr_master(appr_id) ON DELETE CASCADE,\n  mem_id varchar(20) REFERENCES member_master(mem_id),\n  org_code varchar(20) REFERENCES org_master(org_code),\n  rep_org_code varchar(20),\n  jx_code varchar(10),\n  rl_mem_id varchar(20),\n  rl_org_code varchar(20),\n  rl_rep_org_code varchar(20),\n  rl_jx_code varchar(10),\n  inst_yn boolean DEFAULT false,\n  proc_order smallint,\n  proc_div_code varchar(10),\n  proc_type_code varchar(10),\n  proc_status_code varchar(10),\n  proc_action_code varchar(10),\n  proc_action_date timestamp,\n  proc_recv_date timestamp,\n  proc_check_date timestamp,\n  proc_line_type varchar(10),\n  mod_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n내가 결재해야 할 문서가 뭐가 있는지 알려줄래?", "response": "SELECT am.appr_id, am.title\nFROM appr_master AS am\nLEFT JOIN appr_proc AS ap \nON am.appr_id = ap.appr_id AND ap.proc_status_code = 'CGV0040002' \nAND \n(\n(ap.proc_div_code = 'CGV0020001' AND ap.member_id = {auth_mem_id})\nOR\n(ap.proc_div_code = 'CGV0020002' AND ap.org_code = {auth_org_code})\n)\nWHERE am.status_code IN ('CGV0010003', 'CGV0010004')\nORDER BY am.date_created DESC"}
{"instruction": "### Schema:\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n2023년에 입사한 직원들은 총 몇 명이야?", "response": "SELECT COUNT(*) AS member_count\nFROM member_master AS mm\nWHERE LEFT(mm.ent_ymd, 4) = '2023'"}
{"instruction": "### Schema:\nCREATE TABLE appr_docs_master (\n  adocs_code varchar(20) PRIMARY KEY,\n  docs_type char(1),\n  adocs_catg_code varchar(20) REFERENCES appr_docs_catg(adocs_catg_code),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  disp_yn boolean DEFAULT true,\n  src_type varchar(10),\n  opt_offc_yn boolean DEFAULT false,\n  opt_vwr_yn boolean DEFAULT false,\n  opt_rfr_yn boolean DEFAULT false,\n  opt_alrm_rqs_type varchar(10),\n  opt_mod_yn boolean DEFAULT false,\n  opt_drft_cncl_yn boolean DEFAULT false,\n  opt_appr_cncl_yn boolean DEFAULT false,\n  opt_rwr_yn boolean DEFAULT false,\n  opt_line_mod_yn boolean DEFAULT false,\n  opt_no_type varchar(10),\n  opt_recv_mod_yn boolean DEFAULT false,\n  proc_all_yn boolean DEFAULT false,\n  proc_adv_yn boolean DEFAULT false,\n  proc_orjc_yn boolean DEFAULT false,\n  proc_aggr_sqn_yn boolean DEFAULT false,\n  proc_aggr_prl_yn boolean DEFAULT false,\n  proc_aggr_sqn_cnt smallint,\n  proc_aggr_prl_cnt smallint,\n  fvrt_yn boolean DEFAULT false,\n  line_type varchar(10),\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_docs_lang (\n  adocs_lng_id varchar(20) NOT NULL,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300),\n  PRIMARY KEY (adocs_lng_id, type, lang)\n);\n\n### Question:\n보안등급이 대외비인 결재문서는 어떤 것들이 있어?", "response": "SELECT adm.adocs_code, \nadl.value AS adocs_name\nFROM appr_docs_master AS adm\nINNER JOIN appr_docs_lang AS adl\nON adm.adocs_code = adl.adocs_lng_id AND type = 'T11' AND adl.lang = #{lang}\nWHERE adm.src_type = 'PRV'\nAND adm.del_yn = 'N'\nAND \n(\n{ROLE_CODE} = 'ROLE_ADMIN'\nOR \n{ROLE_CODE} != 'ROLE_ADMIN' AND adm.use_yn = 'Y'\n)"}
{"instruction": "### Schema:\nCREATE TABLE appr_docs_master (\n  adocs_code varchar(20) PRIMARY KEY,\n  docs_type char(1),\n  adocs_catg_code varchar(20) REFERENCES appr_docs_catg(adocs_catg_code),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  disp_yn boolean DEFAULT true,\n  src_type varchar(10),\n  opt_offc_yn boolean DEFAULT false,\n  opt_vwr_yn boolean DEFAULT false,\n  opt_rfr_yn boolean DEFAULT false,\n  opt_alrm_rqs_type varchar(10),\n  opt_mod_yn boolean DEFAULT false,\n  opt_drft_cncl_yn boolean DEFAULT false,\n  opt_appr_cncl_yn boolean DEFAULT false,\n  opt_rwr_yn boolean DEFAULT false,\n  opt_line_mod_yn boolean DEFAULT false,\n  opt_no_type varchar(10),\n  opt_recv_mod_yn boolean DEFAULT false,\n  proc_all_yn boolean DEFAULT false,\n  proc_adv_yn boolean DEFAULT false,\n  proc_orjc_yn boolean DEFAULT false,\n  proc_aggr_sqn_yn boolean DEFAULT false,\n  proc_aggr_prl_yn boolean DEFAULT false,\n  proc_aggr_sqn_cnt smallint,\n  proc_aggr_prl_cnt smallint,\n  fvrt_yn boolean DEFAULT false,\n  line_type varchar(10),\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_docs_lang (\n  adocs_lng_id varchar(20) NOT NULL,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300),\n  PRIMARY KEY (adocs_lng_id, type, lang)\n);\n\n### Question:\n결재 완료 시에 문서번호가 만들어지는 결재 양식은 뭐가 있을까?", "response": "SELECT adm.adocs_code, \nadl.value AS adocs_name\nFROM appr_docs_master AS adm\nINNER JOIN appr_docs_lang AS adl\nON adm.adocs_code = adl.adocs_lng_id AND type = 'T11' AND adl.lang = #{lang}\nWHERE adm.opt_no_type = 'CMPL'\nAND adm.del_yn = 'N'\nAND \n(\n{ROLE_CODE} = 'ROLE_ADMIN' \nOR \n{ROLE_CODE} != 'ROLE_ADMIN' AND adm.use_yn = 'Y'\n)"}
{"instruction": "### Schema:\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\n\n### Question:\n오늘 생일 누가 있어?", "response": "SELECT mm.mem_id, mm.emp_no, ml.value AS name\nFROM member_master mm\nINNER JOIN member_lang ml\nON mm.mem_id = ml.mem_id AND ml.type = 'T01' AND ml.lang = #{lang}\nWHERE mm.birth_ymd = DATE_FORMAT(NOW(), '%Y%m%d') AND mm.status_code = 'CMM0010001'"}
{"instruction": "### Schema:\nCREATE TABLE appr_proc (\n  aproc_id varchar(20) PRIMARY KEY,\n  appr_id varchar(20) NOT NULL REFERENCES appr_master(appr_id) ON DELETE CASCADE,\n  mem_id varchar(20) REFERENCES member_master(mem_id),\n  org_code varchar(20) REFERENCES org_master(org_code),\n  rep_org_code varchar(20),\n  jx_code varchar(10),\n  rl_mem_id varchar(20),\n  rl_org_code varchar(20),\n  rl_rep_org_code varchar(20),\n  rl_jx_code varchar(10),\n  inst_yn boolean DEFAULT false,\n  proc_order smallint,\n  proc_div_code varchar(10),\n  proc_type_code varchar(10),\n  proc_status_code varchar(10),\n  proc_action_code varchar(10),\n  proc_action_date timestamp,\n  proc_recv_date timestamp,\n  proc_check_date timestamp,\n  proc_line_type varchar(10),\n  mod_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\n\n### Question:\n최근 한 달 동안 가장 많이 승인 처리한 사람은 누구야?", "response": "SELECT mm.mem_id, mm.emp_no, ml.value AS name, sub_tb.total_count\nFROM member_master AS mm\nINNER JOIN (\nSELECT am.rl_mem_id, COUNT(*) AS total_count\nFROM appr_proc AS ap\nWHERE ap.proc_action_date >= DATE_SUB(NOW(), INTERVAL 1 MONTH)\nAND ap.proc_action_code IN ('CGV0050004')\nGROUP BY am.rl_mem_id\nORDER BY am.total_count DESC\nLIMIT 0, 1\n) AS sub_tb\nON mm.mem_id = sub_tb.rl_mem_id\nINNER JOIN member_lang AS ml\nON ml.mem_id = mm.mem_id AND ml.type = 'T01' AND ml.lang = #{lang}"}
{"instruction": "### Schema:\nCREATE TABLE appr_master (\n  appr_id varchar(20) PRIMARY KEY,\n  up_appr_id varchar(20),\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code),\n  appr_no varchar(100),\n  title varchar(200),\n  status_code varchar(10) NOT NULL,\n  docs_type char(1),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  src_type varchar(10),\n  drft_date timestamp,\n  fnl_date timestamp,\n  drft_mem_id varchar(20) REFERENCES member_master(mem_id),\n  drft_org_code varchar(20) REFERENCES org_master(org_code),\n  drft_rep_org_code varchar(20),\n  drft_jx_code varchar(10),\n  fnl_mem_id varchar(20),\n  fnl_org_code varchar(20),\n  fnl_rep_org_code varchar(20),\n  fnl_jx_code varchar(10),\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n평균 결재 소요 시간을 알려줘.", "response": "SELECT AVG(DATEDIFF(am.fnl_date, am.drft_date)) AS avg_days\nFROM appr_master AS am\nWHERE am.status_code IN ('CGV0010005', 'CGV0010006')\nAND am.drft_date >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR)"}
{"instruction": "### Schema:\nCREATE TABLE appr_master (\n  appr_id varchar(20) PRIMARY KEY,\n  up_appr_id varchar(20),\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code),\n  appr_no varchar(100),\n  title varchar(200),\n  status_code varchar(10) NOT NULL,\n  docs_type char(1),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  src_type varchar(10),\n  drft_date timestamp,\n  fnl_date timestamp,\n  drft_mem_id varchar(20) REFERENCES member_master(mem_id),\n  drft_org_code varchar(20) REFERENCES org_master(org_code),\n  drft_rep_org_code varchar(20),\n  drft_jx_code varchar(10),\n  fnl_mem_id varchar(20),\n  fnl_org_code varchar(20),\n  fnl_rep_org_code varchar(20),\n  fnl_jx_code varchar(10),\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n상신일과 최종처리일자로 결재 평균 소요시간을 계산해줘", "response": "SELECT AVG(DATEDIFF(am.fnl_date, am.drft_date)) AS avg_days\nFROM appr_master AS am\nWHERE am.status_code IN ('CGV0010005', 'CGV0010006')\nAND am.drft_date >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR)"}
{"instruction": "### Schema:\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\nCREATE TABLE org_member_rel (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  jc_code varchar(20),\n  jw_code varchar(20),\n  jk_code varchar(20),\n  jh_code varchar(20),\n  jm_code varchar(20),\n  jx_code varchar(20),\n  rep_org_code varchar(20),\n  priority smallint NOT NULL,\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now(),\n  PRIMARY KEY (org_code, mem_id)\n);\nCREATE TABLE org_lang (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(100) NOT NULL,\n  PRIMARY KEY (org_code, type, lang)\n);\n\n### Question:\n홍길동의 한글 이름과 영문 부서명을 알고 싶어", "response": "SELECT ml.mem_id, \n(\nSELECT tmp.value\nFROM member_lang tmp\nWHERE tmp.mem_id ml.mem_id\nAND tmp.type = 'T01'\nAND tmp.lang = 'ko'\n) AS name,\nol.value AS department_name\nFROM member_lang AS ml \nINNER JOIN org_member_rel AS omr \nON ml.mem_id = omr.mem_id AND omr.priority = 1 AND omr.use_yn = 'Y' \nLEFT OUTER JOIN org_lang AS ol\nON omr.org_code = ol.org_code AND ol.type ='T01' AND ol.lang = 'zh'\nWHERE ml.value = '홍길동' AND ml.type = 'T01' AND ml.lang = #{lang}"}
{"instruction": "### Schema:\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\nCREATE TABLE org_member_rel (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  jc_code varchar(20),\n  jw_code varchar(20),\n  jk_code varchar(20),\n  jh_code varchar(20),\n  jm_code varchar(20),\n  jx_code varchar(20),\n  rep_org_code varchar(20),\n  priority smallint NOT NULL,\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now(),\n  PRIMARY KEY (org_code, mem_id)\n);\nCREATE TABLE org_lang (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(100) NOT NULL,\n  PRIMARY KEY (org_code, type, lang)\n);\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n홍길동(mem_id : MEM00022)의 한글 이름과 영문 부서명을 알고 싶어", "response": "SELECT mm.mem_id, \n(\nSELECT tmp.value\nFROM member_lang tmp\nWHERE tmp.mem_id ml.mem_id\nAND tmp.type = 'T01'\nAND tmp.lang = 'ko'\n) AS name,\nol.value AS department_name\nFROM member_master AS mm\nINNER JOIN org_member_rel AS omr \nON mm.mem_id = omr.mem_id AND omr.priority = 1 AND omr.use_yn = 'Y' \nLEFT OUTER JOIN org_lang AS ol\nON omr.org_code = ol.org_code AND ol.type ='T01' AND ol.lang = 'zh'\nWHERE mm.mem_id = 'MEM00022'"}
{"instruction": "### Schema:\nCREATE TABLE appr_docs_master (\n  adocs_code varchar(20) PRIMARY KEY,\n  docs_type char(1),\n  adocs_catg_code varchar(20) REFERENCES appr_docs_catg(adocs_catg_code),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  disp_yn boolean DEFAULT true,\n  src_type varchar(10),\n  opt_offc_yn boolean DEFAULT false,\n  opt_vwr_yn boolean DEFAULT false,\n  opt_rfr_yn boolean DEFAULT false,\n  opt_alrm_rqs_type varchar(10),\n  opt_mod_yn boolean DEFAULT false,\n  opt_drft_cncl_yn boolean DEFAULT false,\n  opt_appr_cncl_yn boolean DEFAULT false,\n  opt_rwr_yn boolean DEFAULT false,\n  opt_line_mod_yn boolean DEFAULT false,\n  opt_no_type varchar(10),\n  opt_recv_mod_yn boolean DEFAULT false,\n  proc_all_yn boolean DEFAULT false,\n  proc_adv_yn boolean DEFAULT false,\n  proc_orjc_yn boolean DEFAULT false,\n  proc_aggr_sqn_yn boolean DEFAULT false,\n  proc_aggr_prl_yn boolean DEFAULT false,\n  proc_aggr_sqn_cnt smallint,\n  proc_aggr_prl_cnt smallint,\n  fvrt_yn boolean DEFAULT false,\n  line_type varchar(10),\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_docs_lang (\n  adocs_lng_id varchar(20) NOT NULL,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300),\n  PRIMARY KEY (adocs_lng_id, type, lang)\n);\nCREATE TABLE org_lang (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(100) NOT NULL,\n  PRIMARY KEY (org_code, type, lang)\n);\nCREATE TABLE appr_docs_target_rel (\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code) ON DELETE CASCADE,\n  rel_id varchar(20),\n  rel_type varchar(10),\n  PRIMARY KEY (adocs_code, rel_id)\n);\n\n### Question:\n기획팀에서만 사용할 수 있는 결재 양식은 무엇이 있나요?", "response": "SELECT adm.adocs_code, \nadl.value AS adocs_name\nFROM appr_docs_master AS adm\nINNER JOIN appr_docs_lang AS adl\nON adm.adocs_code = adl.adocs_lng_id AND type = 'T11' AND adl.lang = #{lang}\nWHERE adm.del_yn = 'N'\nAND adm.adocs_code IN \n(\nSELECT tmp1.adocs_code\nFROM org_lang AS tmp1\nINNER JOIN appr_docs_target_rel AS tmp2\nON tmp1.org_code = tmp2.rel_id AND tmp2.rel_type = 'O'\nWHERE tmp1.value = '기획팀' AND tmp1.type = 'T01' AND tmp1.lang = #{lang}\n)\nAND \n(\n{ROLE_CODE} = 'ROLE_ADMIN' \nOR \n{ROLE_CODE} != 'ROLE_ADMIN' AND adm.use_yn = 'Y'\n)"}
{"instruction": "### Schema:\nCREATE TABLE appr_docs_master (\n  adocs_code varchar(20) PRIMARY KEY,\n  docs_type char(1),\n  adocs_catg_code varchar(20) REFERENCES appr_docs_catg(adocs_catg_code),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  disp_yn boolean DEFAULT true,\n  src_type varchar(10),\n  opt_offc_yn boolean DEFAULT false,\n  opt_vwr_yn boolean DEFAULT false,\n  opt_rfr_yn boolean DEFAULT false,\n  opt_alrm_rqs_type varchar(10),\n  opt_mod_yn boolean DEFAULT false,\n  opt_drft_cncl_yn boolean DEFAULT false,\n  opt_appr_cncl_yn boolean DEFAULT false,\n  opt_rwr_yn boolean DEFAULT false,\n  opt_line_mod_yn boolean DEFAULT false,\n  opt_no_type varchar(10),\n  opt_recv_mod_yn boolean DEFAULT false,\n  proc_all_yn boolean DEFAULT false,\n  proc_adv_yn boolean DEFAULT false,\n  proc_orjc_yn boolean DEFAULT false,\n  proc_aggr_sqn_yn boolean DEFAULT false,\n  proc_aggr_prl_yn boolean DEFAULT false,\n  proc_aggr_sqn_cnt smallint,\n  proc_aggr_prl_cnt smallint,\n  fvrt_yn boolean DEFAULT false,\n  line_type varchar(10),\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_docs_lang (\n  adocs_lng_id varchar(20) NOT NULL,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300),\n  PRIMARY KEY (adocs_lng_id, type, lang)\n);\nCREATE TABLE appr_docs_target_rel (\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code) ON DELETE CASCADE,\n  rel_id varchar(20),\n  rel_type varchar(10),\n  PRIMARY KEY (adocs_code, rel_id)\n);\n\n### Question:\n기획팀(org_code : ORG0018)에서만 사용할 수 있는 결재 양식은 무엇이 있나요?", "response": "SELECT adm.adocs_code, \nadl.value AS adocs_name\nFROM appr_docs_master AS adm\nINNER JOIN appr_docs_lang AS adl\nON adm.adocs_code = adl.adocs_lng_id AND type = 'T11' AND adl.lang = #{lang}\nWHERE adm.del_yn = 'N'\nAND adm.adocs_code IN \n(\nSELECT tmp.adocs_code\nFROM appr_docs_target_rel AS tmp\nWHERE tmp.rel_id = 'ORG0018' AND tmp.rel_type = 'O'\n)\nAND \n(\n{ROLE_CODE} = 'ROLE_ADMIN' \nOR \n{ROLE_CODE} != 'ROLE_ADMIN' AND adm.use_yn = 'Y'\n)"}
{"instruction": "### Schema:\nCREATE TABLE appr_master (\n  appr_id varchar(20) PRIMARY KEY,\n  up_appr_id varchar(20),\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code),\n  appr_no varchar(100),\n  title varchar(200),\n  status_code varchar(10) NOT NULL,\n  docs_type char(1),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  src_type varchar(10),\n  drft_date timestamp,\n  fnl_date timestamp,\n  drft_mem_id varchar(20) REFERENCES member_master(mem_id),\n  drft_org_code varchar(20) REFERENCES org_master(org_code),\n  drft_rep_org_code varchar(20),\n  drft_jx_code varchar(10),\n  fnl_mem_id varchar(20),\n  fnl_org_code varchar(20),\n  fnl_rep_org_code varchar(20),\n  fnl_jx_code varchar(10),\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_proc (\n  aproc_id varchar(20) PRIMARY KEY,\n  appr_id varchar(20) NOT NULL REFERENCES appr_master(appr_id) ON DELETE CASCADE,\n  mem_id varchar(20) REFERENCES member_master(mem_id),\n  org_code varchar(20) REFERENCES org_master(org_code),\n  rep_org_code varchar(20),\n  jx_code varchar(10),\n  rl_mem_id varchar(20),\n  rl_org_code varchar(20),\n  rl_rep_org_code varchar(20),\n  rl_jx_code varchar(10),\n  inst_yn boolean DEFAULT false,\n  proc_order smallint,\n  proc_div_code varchar(10),\n  proc_type_code varchar(10),\n  proc_status_code varchar(10),\n  proc_action_code varchar(10),\n  proc_action_date timestamp,\n  proc_recv_date timestamp,\n  proc_check_date timestamp,\n  proc_line_type varchar(10),\n  mod_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\n\n### Question:\n홍길동이 올린 모든 결재 문서를 알려줘", "response": "SELECT am.appr_id, am.title, mm.mem_id, mm.emp_no, ml.email, ml.value AS name\nFROM member_lang AS ml\nINNER JOIN member_master AS mm\nON mm.mem_id = ml.mem_id AND mm.status_code = 'CMM0010001'\nINNER JOIN appr_master AS am\nON am.drft_mem_id = mm.mem_id AND am.del_yn = 'N'\nAND \n( \nEXISTS (\nSELECT 1\nFROM appr_proc AS ap\nWHERE ap.appr_id = am.appr_id\nAND ap.mem_id = {auth_mem_id}\n)\nOR\n{ROLE_CODE} = 'ROLE_ADMIN'\n)\nWHERE ml.value = '홍길동' AND ml.type = 'T01' AND ml.lang = #{lang}\nORDER BY am.date_created DESC\nLIMIT {offset}, {count}"}
{"instruction": "### Schema:\nCREATE TABLE appr_master (\n  appr_id varchar(20) PRIMARY KEY,\n  up_appr_id varchar(20),\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code),\n  appr_no varchar(100),\n  title varchar(200),\n  status_code varchar(10) NOT NULL,\n  docs_type char(1),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  src_type varchar(10),\n  drft_date timestamp,\n  fnl_date timestamp,\n  drft_mem_id varchar(20) REFERENCES member_master(mem_id),\n  drft_org_code varchar(20) REFERENCES org_master(org_code),\n  drft_rep_org_code varchar(20),\n  drft_jx_code varchar(10),\n  fnl_mem_id varchar(20),\n  fnl_org_code varchar(20),\n  fnl_rep_org_code varchar(20),\n  fnl_jx_code varchar(10),\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_proc (\n  aproc_id varchar(20) PRIMARY KEY,\n  appr_id varchar(20) NOT NULL REFERENCES appr_master(appr_id) ON DELETE CASCADE,\n  mem_id varchar(20) REFERENCES member_master(mem_id),\n  org_code varchar(20) REFERENCES org_master(org_code),\n  rep_org_code varchar(20),\n  jx_code varchar(10),\n  rl_mem_id varchar(20),\n  rl_org_code varchar(20),\n  rl_rep_org_code varchar(20),\n  rl_jx_code varchar(10),\n  inst_yn boolean DEFAULT false,\n  proc_order smallint,\n  proc_div_code varchar(10),\n  proc_type_code varchar(10),\n  proc_status_code varchar(10),\n  proc_action_code varchar(10),\n  proc_action_date timestamp,\n  proc_recv_date timestamp,\n  proc_check_date timestamp,\n  proc_line_type varchar(10),\n  mod_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\n\n### Question:\n홍길동(mem_id: MEM00033)가 올린 모든 결재 문서를 알려줘", "response": "SELECT am.appr_id, am.title, mm.mem_id, mm.emp_no, ml.email, ml.value AS name\nFROM member_master AS mm\nINNER JOIN member_lang AS ml\nON mm.mem_id = ml.mem_id AND ml.type = 'T01' AND ml.lang = #{lang}\nINNER JOIN appr_master AS am\nON am.drft_mem_id = ml.mem_id AND am.del_yn = 'N'\nAND \n( \nEXISTS (\nSELECT 1\nFROM appr_proc AS ap\nWHERE ap.appr_id = am.appr_id\nAND ap.mem_id = {auth_mem_id}\n)\nOR\n{ROLE_CODE} = 'ROLE_ADMIN'\n)\nWHERE mm.mem_id = 'MEM00033'\nORDER BY am.date_created DESC\nLIMIT {offset}, {count}"}
{"instruction": "### Schema:\nCREATE TABLE org_master (\n  org_code varchar(20) PRIMARY KEY,\n  up_org_code varchar(20) REFERENCES org_master(org_code) ON DELETE SET NULL,\n  rep_org_code varchar(20),\n  org_type char(1) NOT NULL,\n  disp_ord integer,\n  disp_yn boolean DEFAULT true,\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE org_lang (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(100) NOT NULL,\n  PRIMARY KEY (org_code, type, lang)\n);\nCREATE TABLE org_member_rel (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  jc_code varchar(20),\n  jw_code varchar(20),\n  jk_code varchar(20),\n  jh_code varchar(20),\n  jm_code varchar(20),\n  jx_code varchar(20),\n  rep_org_code varchar(20),\n  priority smallint NOT NULL,\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now(),\n  PRIMARY KEY (org_code, mem_id)\n);\n\n### Question:\n임직원이 없는 부서가 있는지 확인해줘.", "response": "SELECT om.org_code, ol.value AS org_name\nFROM org_master AS om\nINNER JOIN org_lang AS ol\nON om.org_code = ol.org_code AND ol.type = 'T01' AND ol.lang = #{lang}\nWHERE om.org_code NOT IN (\nSELECT omr.org_code\nFROM org_member_rel AS omr\nWHERE omr.use_yn = 'N'\nGROUP BY omr.org_code\n)"}
{"instruction": "### Schema:\nCREATE TABLE appr_master (\n  appr_id varchar(20) PRIMARY KEY,\n  up_appr_id varchar(20),\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code),\n  appr_no varchar(100),\n  title varchar(200),\n  status_code varchar(10) NOT NULL,\n  docs_type char(1),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  src_type varchar(10),\n  drft_date timestamp,\n  fnl_date timestamp,\n  drft_mem_id varchar(20) REFERENCES member_master(mem_id),\n  drft_org_code varchar(20) REFERENCES org_master(org_code),\n  drft_rep_org_code varchar(20),\n  drft_jx_code varchar(10),\n  fnl_mem_id varchar(20),\n  fnl_org_code varchar(20),\n  fnl_rep_org_code varchar(20),\n  fnl_jx_code varchar(10),\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_proc (\n  aproc_id varchar(20) PRIMARY KEY,\n  appr_id varchar(20) NOT NULL REFERENCES appr_master(appr_id) ON DELETE CASCADE,\n  mem_id varchar(20) REFERENCES member_master(mem_id),\n  org_code varchar(20) REFERENCES org_master(org_code),\n  rep_org_code varchar(20),\n  jx_code varchar(10),\n  rl_mem_id varchar(20),\n  rl_org_code varchar(20),\n  rl_rep_org_code varchar(20),\n  rl_jx_code varchar(10),\n  inst_yn boolean DEFAULT false,\n  proc_order smallint,\n  proc_div_code varchar(10),\n  proc_type_code varchar(10),\n  proc_status_code varchar(10),\n  proc_action_code varchar(10),\n  proc_action_date timestamp,\n  proc_recv_date timestamp,\n  proc_check_date timestamp,\n  proc_line_type varchar(10),\n  mod_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\n\n### Question:\n결재가 반려된 문서들 중에서, 반려 처리한 결재자의 이름을 알고 싶어.", "response": "SELECT am.appr_id, am.title, am.fnl_mem_id, ml.value AS fnl_name\nFROM appr_master AS am\nINNER JOIN member_lang AS ml\nON am.fnl_mem_id = ml.mem_id AND ml.type = 'T01' AND ml.lang = #{lang}\nWHERE am.status_code IN ('CGV0010007', 'CGV0010008')\nAND \n( \nEXISTS (\nSELECT 1\nFROM appr_proc AS ap\nWHERE ap.appr_id = am.appr_id\nAND ap.mem_id = {auth_mem_id}\nAND ap.proc_type_code IN ('CGV0030001', 'CGV0030002', 'CGV0030003', 'CGV0030004', 'CGV0030007')\n)\nOR\n{ROLE_CODE} = 'ROLE_ADMIN'\n)\nORDER BY am.date_created DESC\nLIMIT {offset}, {count}"}
{"instruction": "### Schema:\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\n\n### Question:\n최욱현의 담당업무는 뭐야?", "response": "SELECT mm.mem_id, mm.emp_no, ml.value AS name, mm.incharge_task\nFROM member_lang AS ml\nINNER JOIN member_master AS mm\nON ml.mem_id = mm.mem_id AND mm.status_code = 'CMM0010001'\nWHERE ml.value = '최욱현' AND ml.type = 'T01' AND ml.lang = #{lang}"}
{"instruction": "### Schema:\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\n\n### Question:\n최욱현(emp_no : EMP007)의 담당업무는 뭐야?", "response": "SELECT mm.mem_id, mm.emp_no, ml.value AS name, mm.incharge_task\nFROM member_master AS mm\nINNER JOIN member_lang AS ml\nON mm.mem_id = ml.mem_id AND ml.type = 'T01' AND ml.lang = #{lang}\nWHERE mm.emp_no = 'EMP007'"}
{"instruction": "### Schema:\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\n\n### Question:\n사원번호 EMP007 담당업무는 무엇인가요?", "response": "SELECT mm.mem_id, mm.emp_no, ml.value AS name, mm.incharge_task\nFROM member_master AS mm\nINNER JOIN member_lang AS ml\nON mm.mem_id = ml.mem_id AND ml.type = 'T01' AND ml.lang = #{lang}\nWHERE mm.emp_no = 'EMP007'"}
{"instruction": "### Schema:\nCREATE TABLE code_lang (\n  code_lng_id varchar(20) NOT NULL,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(100) NOT NULL,\n  PRIMARY KEY (code_lng_id, type, lang)\n);\nCREATE TABLE code_group (\n  grp_code varchar(20) PRIMARY KEY,\n  use_yn boolean DEFAULT true,\n  disp_ord integer,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n코드 그룹 GMM004이 뭐야?", "response": "SELECT cg.grp_code, cl.value AS grp_name\nFROM code_group AS cg\nINNER JOIN code_lang AS cl\nON cl.code_lng_id = cg.grp_code AND cl.type = 'T01' AND cl.lang = #{lang}\nWHERE cg.grp_code = 'GMM004'"}
{"instruction": "### Schema:\nCREATE TABLE code_lang (\n  code_lng_id varchar(20) NOT NULL,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(100) NOT NULL,\n  PRIMARY KEY (code_lng_id, type, lang)\n);\nCREATE TABLE code_group (\n  grp_code varchar(20) PRIMARY KEY,\n  use_yn boolean DEFAULT true,\n  disp_ord integer,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n코드 그룹 GMM004의 영어 명칭은 뭐야?", "response": "SELECT cg.grp_code, cl.value AS grp_name\nFROM code_group AS cg\nINNER JOIN code_lang AS cl\nON cl.code_lng_id = cg.grp_code AND cl.type = 'T01' AND cl.lang = 'en'\nWHERE cg.grp_code = 'GMM004'"}
{"instruction": "### Schema:\nCREATE TABLE appr_docs_catg (\n  adocs_catg_code varchar(20) PRIMARY KEY,\n  up_adocs_catg_code varchar(20) REFERENCES appr_docs_catg(adocs_catg_code) ON DELETE SET NULL,\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false\n);\nCREATE TABLE appr_docs_lang (\n  adocs_lng_id varchar(20) NOT NULL,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300),\n  PRIMARY KEY (adocs_lng_id, type, lang)\n);\n\n### Question:\n모든 결재문서 카테고리를 알려줘", "response": "SELECT adc.adocs_code, adl.value AS adocs_name\nFROM appr_docs_catg AS adc\nINNER JOIN appr_docs_lang AS adl\nON adc.adocs_code = adl.adocs_lng_id AND adl.type = 'T01' AND adl.lang = #{lang}\nWHERE adc.del_yn = 'N'\nAND \n(\n{ROLE_CODE} = 'ROLE_ADMIN'\nOR \n{ROLE_CODE} != 'ROLE_ADMIN' AND adc.use_yn = 'Y'\n)\nORDER BY adc.disp_ord"}
{"instruction": "### Schema:\nCREATE TABLE appr_docs_catg (\n  adocs_catg_code varchar(20) PRIMARY KEY,\n  up_adocs_catg_code varchar(20) REFERENCES appr_docs_catg(adocs_catg_code) ON DELETE SET NULL,\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false\n);\nCREATE TABLE appr_docs_lang (\n  adocs_lng_id varchar(20) NOT NULL,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300),\n  PRIMARY KEY (adocs_lng_id, type, lang)\n);\n\n### Question:\n모든 결재문서 카테고리를 한국어로 보여줘", "response": "SELECT adc.adocs_code, adl.value AS adocs_name\nFROM appr_docs_catg AS adc\nINNER JOIN appr_docs_lang AS adl\nON adc.adocs_code = adl.adocs_lng_id AND adl.type = 'T01' AND adl.lang = 'ko'\nWHERE adc.del_yn = 'N'\nAND \n(\n{ROLE_CODE} = 'ROLE_ADMIN'\nOR \n{ROLE_CODE} != 'ROLE_ADMIN' AND adc.use_yn = 'Y'\n)\nORDER BY adc.disp_ord"}
{"instruction": "### Schema:\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\n\n### Question:\n성이 이씨인 모든 직원을 찾아줘", "response": "SELECT mm.mem_id, mm.emp_no, ml.value AS name\nFROM member_lang AS ml\nINNER JOIN member_master AS mm\nON ml.mem_id = mm.mem_id AND mm.status_code = 'CMM0010001'\nWHERE ml.value LIKE '이%' AND ml.type = 'T01' AND ml.lang = #{lang}"}
{"instruction": "### Schema:\nCREATE TABLE appr_master (\n  appr_id varchar(20) PRIMARY KEY,\n  up_appr_id varchar(20),\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code),\n  appr_no varchar(100),\n  title varchar(200),\n  status_code varchar(10) NOT NULL,\n  docs_type char(1),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  src_type varchar(10),\n  drft_date timestamp,\n  fnl_date timestamp,\n  drft_mem_id varchar(20) REFERENCES member_master(mem_id),\n  drft_org_code varchar(20) REFERENCES org_master(org_code),\n  drft_rep_org_code varchar(20),\n  drft_jx_code varchar(10),\n  fnl_mem_id varchar(20),\n  fnl_org_code varchar(20),\n  fnl_rep_org_code varchar(20),\n  fnl_jx_code varchar(10),\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n임시저장 상태인 결재 문서가 총 몇 개인지 알려줘.", "response": "SELECT COUNT(*)\nFROM appr_master AS am\nWHERE am.status_code = 'CGV0010001'\nAND \n( \nam.creator = {auth_mem_id}\nOR\n{ROLE_CODE} = 'ROLE_ADMIN'\n)"}
{"instruction": "### Schema:\nCREATE TABLE org_master (\n  org_code varchar(20) PRIMARY KEY,\n  up_org_code varchar(20) REFERENCES org_master(org_code) ON DELETE SET NULL,\n  rep_org_code varchar(20),\n  org_type char(1) NOT NULL,\n  disp_ord integer,\n  disp_yn boolean DEFAULT true,\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE org_lang (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(100) NOT NULL,\n  PRIMARY KEY (org_code, type, lang)\n);\n\n### Question:\n최상위 부서는 어디야?", "response": "SELECT om.org_code, ol.value AS org_name\nFROM org_master AS om\nINNER JOIN org_lang AS ol\nON om.org_code = ol.org_code AND ol.type = 'T01' AND ol.lang = #{lang}\nWHERE om.del_yn = 'N' AND om.use_yn = 'Y' AND om.org_type = 'D'\nAND om.up_org_code IN (\nSELECT tmp.org_code\nFROM org_master AS tmp\nWHERE tmp.org_type = 'C'\n)\nORDER BY om.disp_ord"}
{"instruction": "### Schema:\nCREATE TABLE appr_docs_master (\n  adocs_code varchar(20) PRIMARY KEY,\n  docs_type char(1),\n  adocs_catg_code varchar(20) REFERENCES appr_docs_catg(adocs_catg_code),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  disp_yn boolean DEFAULT true,\n  src_type varchar(10),\n  opt_offc_yn boolean DEFAULT false,\n  opt_vwr_yn boolean DEFAULT false,\n  opt_rfr_yn boolean DEFAULT false,\n  opt_alrm_rqs_type varchar(10),\n  opt_mod_yn boolean DEFAULT false,\n  opt_drft_cncl_yn boolean DEFAULT false,\n  opt_appr_cncl_yn boolean DEFAULT false,\n  opt_rwr_yn boolean DEFAULT false,\n  opt_line_mod_yn boolean DEFAULT false,\n  opt_no_type varchar(10),\n  opt_recv_mod_yn boolean DEFAULT false,\n  proc_all_yn boolean DEFAULT false,\n  proc_adv_yn boolean DEFAULT false,\n  proc_orjc_yn boolean DEFAULT false,\n  proc_aggr_sqn_yn boolean DEFAULT false,\n  proc_aggr_prl_yn boolean DEFAULT false,\n  proc_aggr_sqn_cnt smallint,\n  proc_aggr_prl_cnt smallint,\n  fvrt_yn boolean DEFAULT false,\n  line_type varchar(10),\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_docs_lang (\n  adocs_lng_id varchar(20) NOT NULL,\n  type varchar(3) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300),\n  PRIMARY KEY (adocs_lng_id, type, lang)\n);\n\n### Question:\n결재선 변경이 불가능한 결재 양식은 어떤 것들이 있는지 알려줘", "response": "SELECT adm.adocs_code, \nadl.value AS adocs_name\nFROM appr_docs_master AS adm\nINNER JOIN appr_docs_lang AS adl\nON adm.adocs_code = adl.adocs_lng_id AND type = 'T11' AND adl.lang = #{lang}\nWHERE adm.opt_line_mod_yn= 'N'\nAND adm.del_yn = 'N'\nAND \n(\n{ROLE_CODE} = 'ROLE_ADMIN' \nOR \n{ROLE_CODE} != 'ROLE_ADMIN' AND adm.use_yn = 'Y'\n)"}
{"instruction": "### Schema:\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n아직 퇴사일이 정해지지 않은 모든 직원의 수를 세어줘.", "response": "SELECT COUNT(*) AS total_count\nFROM member_master AS mm\nWHERE mm.status_code = 'CMM0010001'\nOR (mm.status_code = 'CMM0010003' AND (mm.leave_date IS NULL OR LENGTH(mm.leave_date) = 0))"}
{"instruction": "### Schema:\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n총 직원수가 몇명이야?", "response": "SELECT COUNT(*) AS total_count\nFROM member_master AS mm\nWHERE mm.status_code = 'CMM0010001'\nOR (mm.status_code = 'CMM0010003' AND (mm.leave_date IS NULL OR LENGTH(mm.leave_date) = 0))"}
{"instruction": "### Schema:\nCREATE TABLE appr_proc (\n  aproc_id varchar(20) PRIMARY KEY,\n  appr_id varchar(20) NOT NULL REFERENCES appr_master(appr_id) ON DELETE CASCADE,\n  mem_id varchar(20) REFERENCES member_master(mem_id),\n  org_code varchar(20) REFERENCES org_master(org_code),\n  rep_org_code varchar(20),\n  jx_code varchar(10),\n  rl_mem_id varchar(20),\n  rl_org_code varchar(20),\n  rl_rep_org_code varchar(20),\n  rl_jx_code varchar(10),\n  inst_yn boolean DEFAULT false,\n  proc_order smallint,\n  proc_div_code varchar(10),\n  proc_type_code varchar(10),\n  proc_status_code varchar(10),\n  proc_action_code varchar(10),\n  proc_action_date timestamp,\n  proc_recv_date timestamp,\n  proc_check_date timestamp,\n  proc_line_type varchar(10),\n  mod_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_master (\n  appr_id varchar(20) PRIMARY KEY,\n  up_appr_id varchar(20),\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code),\n  appr_no varchar(100),\n  title varchar(200),\n  status_code varchar(10) NOT NULL,\n  docs_type char(1),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  src_type varchar(10),\n  drft_date timestamp,\n  fnl_date timestamp,\n  drft_mem_id varchar(20) REFERENCES member_master(mem_id),\n  drft_org_code varchar(20) REFERENCES org_master(org_code),\n  drft_rep_org_code varchar(20),\n  drft_jx_code varchar(10),\n  fnl_mem_id varchar(20),\n  fnl_org_code varchar(20),\n  fnl_rep_org_code varchar(20),\n  fnl_jx_code varchar(10),\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n대신결재한 결재문서 보여줘", "response": "SELECT am.appr_id, am.title\nFROM appr_master AS am\nWHERE am.del_yn = 'N'\nAND EXISTS (\nSELECT 1\nFROM appr_proc AS tmp\nWHERE tmp.appr_id = am.appr_id \nAND tmp.inst_yn = 'Y'\n)\nAND \n( \nEXISTS (\nSELECT 1\nFROM appr_proc AS ap\nWHERE ap.appr_id = am.appr_id\nAND ap.mem_id = {auth_mem_id}\n)\nOR\n{ROLE_CODE} = 'ROLE_ADMIN'\n)\nORDER BY am.date_created DESC\nLIMIT {offset}, {count}"}
{"instruction": "### Schema:\nCREATE TABLE appr_proc (\n  aproc_id varchar(20) PRIMARY KEY,\n  appr_id varchar(20) NOT NULL REFERENCES appr_master(appr_id) ON DELETE CASCADE,\n  mem_id varchar(20) REFERENCES member_master(mem_id),\n  org_code varchar(20) REFERENCES org_master(org_code),\n  rep_org_code varchar(20),\n  jx_code varchar(10),\n  rl_mem_id varchar(20),\n  rl_org_code varchar(20),\n  rl_rep_org_code varchar(20),\n  rl_jx_code varchar(10),\n  inst_yn boolean DEFAULT false,\n  proc_order smallint,\n  proc_div_code varchar(10),\n  proc_type_code varchar(10),\n  proc_status_code varchar(10),\n  proc_action_code varchar(10),\n  proc_action_date timestamp,\n  proc_recv_date timestamp,\n  proc_check_date timestamp,\n  proc_line_type varchar(10),\n  mod_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE appr_master (\n  appr_id varchar(20) PRIMARY KEY,\n  up_appr_id varchar(20),\n  adocs_code varchar(20) NOT NULL REFERENCES appr_docs_master(adocs_code),\n  appr_no varchar(100),\n  title varchar(200),\n  status_code varchar(10) NOT NULL,\n  docs_type char(1),\n  editor_yn boolean DEFAULT false,\n  editor_body text,\n  src_type varchar(10),\n  drft_date timestamp,\n  fnl_date timestamp,\n  drft_mem_id varchar(20) REFERENCES member_master(mem_id),\n  drft_org_code varchar(20) REFERENCES org_master(org_code),\n  drft_rep_org_code varchar(20),\n  drft_jx_code varchar(10),\n  fnl_mem_id varchar(20),\n  fnl_org_code varchar(20),\n  fnl_rep_org_code varchar(20),\n  fnl_jx_code varchar(10),\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\n\n### Question:\n대결 진행한 결재목록 보여줘", "response": "SELECT am.appr_id, am.title\nFROM appr_master AS am\nWHERE am.del_yn = 'N'\nAND EXISTS (\nSELECT 1\nFROM appr_proc AS tmp\nWHERE tmp.appr_id = am.appr_id \nAND tmp.inst_yn = 'Y'\n)\nAND \n( \nEXISTS (\nSELECT 1\nFROM appr_proc AS ap\nWHERE ap.appr_id = am.appr_id\nAND ap.mem_id = {auth_mem_id}\n)\nOR\n{ROLE_CODE} = 'ROLE_ADMIN'\n)\nORDER BY am.date_created DESC\nLIMIT {offset}, {count}"}
{"instruction": "### Schema:\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\nCREATE TABLE org_member_rel (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  jc_code varchar(20),\n  jw_code varchar(20),\n  jk_code varchar(20),\n  jh_code varchar(20),\n  jm_code varchar(20),\n  jx_code varchar(20),\n  rep_org_code varchar(20),\n  priority smallint NOT NULL,\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now(),\n  PRIMARY KEY (org_code, mem_id)\n);\n\n### Question:\n두 개 이상의 부서에 소속된 직원이 있는지 찾아줘.", "response": "SELECT mm.mem_id, ml.value AS name, mm.emp_no, mm.email\nFROM member_master AS mm\nINNER JOIN member_lang AS ml\nON mm.mem_id = ml.mem_id AND ml.type = 'T01' AND ml.lang = #{lang}\nWHERE mm.mem_id IN (\nSELECT omr.mem_id\nFROM org_member_rel AS omr\nWHERE omr.use_yn = 'Y'\nGROUP BY omr.mem_id\nHAVING COUNT(*) >= 2\n)"}
{"instruction": "### Schema:\nCREATE TABLE member_master (\n  mem_id varchar(20) PRIMARY KEY,\n  email varchar(100) NOT NULL,\n  emp_no varchar(30),\n  tel_no varchar(20),\n  mobile_no varchar(20),\n  enter_date varchar(8),\n  leave_date varchar(8),\n  img_url varchar(2000),\n  fax_no varchar(20),\n  gender char(1),\n  birth_ymd varchar(8),\n  lunar_yn boolean DEFAULT false,\n  incharge_task varchar(500),\n  alarm_yn boolean DEFAULT false,\n  status_code varchar(20) NOT NULL,\n  del_yn boolean DEFAULT false,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now()\n);\nCREATE TABLE member_lang (\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  type varchar(10) NOT NULL,\n  lang varchar(2) NOT NULL,\n  value varchar(300) NOT NULL,\n  PRIMARY KEY (mem_id, type, lang)\n);\nCREATE TABLE org_member_rel (\n  org_code varchar(20) NOT NULL REFERENCES org_master(org_code) ON DELETE CASCADE,\n  mem_id varchar(20) NOT NULL REFERENCES member_master(mem_id) ON DELETE CASCADE,\n  jc_code varchar(20),\n  jw_code varchar(20),\n  jk_code varchar(20),\n  jh_code varchar(20),\n  jm_code varchar(20),\n  jx_code varchar(20),\n  rep_org_code varchar(20),\n  priority smallint NOT NULL,\n  disp_ord smallint,\n  use_yn boolean DEFAULT true,\n  creator varchar(20),\n  date_created timestamp DEFAULT now(),\n  updater varchar(20),\n  date_modified timestamp DEFAULT now(),\n  PRIMARY KEY (org_code, mem_id)\n);\n\n### Question:\n겸직인 직원 목록 보여줘", "response": "SELECT mm.mem_id, ml.value AS name, mm.emp_no, mm.email\nFROM member_master AS mm\nINNER JOIN member_lang AS ml\nON mm.mem_id = ml.mem_id AND ml.type = 'T01' AND ml.lang = #{lang}\nWHERE mm.mem_id IN (\nSELECT omr.mem_id\nFROM org_member_rel AS omr\nWHERE omr.use_yn = 'Y'\nGROUP BY omr.mem_id\nHAVING COUNT(*) >= 2\n)"}
